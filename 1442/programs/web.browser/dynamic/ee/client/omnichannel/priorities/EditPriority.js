function module(e,t,n){let l,i,r,a,o,s,c,u,d,m,p,E,h,f,k,x,_,y,b,w,T;function g(e){let{priorityId:t,reload:n}=e;const l=a(()=>({priorityId:t}),[t]),{data:i,state:o,error:s}=_("livechat/priorities.getOne",l),c=k();return o===y.LOADING?r.createElement(b,null):!s&&i&&i.priorities?r.createElement(C,{priorityId:t,data:i,reload:n}):r.createElement(p,{m:"x16",type:"danger"},c("Not_Available"))}function v(e){let{reload:t}=e;return(r.createElement(C,{isNew:!0,reload:t}))}function C(e){let{data:t,isNew:n,priorityId:p,reload:_}=e,y=i(e,["data","isNew","priorityId","reload"]);const b=k(),g=T("omnichannel-priorities"),v=t||{},{values:C,handlers:I,hasUnsavedChanges:M}=w({name:v.name,description:v.description,dueTimeInMinutes:v.dueTimeInMinutes}),{handleName:N,handleDescription:D,handleDueTimeInMinutes:R}=I,{name:S,description:G,dueTimeInMinutes:P}=C,q=a(()=>S&&0!==S.length?void 0:b("The_field_is_required","name"),[S,b]),F=a(()=>G&&0!==G.length?void 0:b("The_field_is_required","description"),[G,b]),L=a(()=>!P||P<=0?b("The_field_is_required","Estimated_due_time_in_minutes"):void 0,[P,b]),A=h("livechat:savePriority"),B=f(),O=E(()=>{_()}),j=a(()=>!q&&!F&&!L,[q,F,L]),W=E(async()=>{const e={name:S,description:G,dueTimeInMinutes:"".concat(P)};if(!j)return B({type:"error",message:b("The_field_is_required")});try{await A(p,e),B({type:"success",message:b("saved")}),_(),g.push({})}catch(t){B({type:"error",message:t})}});return r.createElement(x.ScrollableContent,l({is:"form"},y),r.createElement(o,null,r.createElement(o.Label,null,b("Name")),r.createElement(o.Row,null,r.createElement(s,{flexGrow:1,value:S,onChange:N,error:M&&q}))),r.createElement(o,null,r.createElement(o.Label,null,b("Description")),r.createElement(o.Row,null,r.createElement(s,{flexGrow:1,value:G,onChange:D,error:M&&F}))),r.createElement(o,null,r.createElement(o.Label,null,b("Estimated_due_time_in_minutes")),r.createElement(o.Row,null,r.createElement(m,{value:P,onChange:R,flexGrow:1,error:M&&L}))),r.createElement(o.Row,null,r.createElement(d,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},r.createElement(u,{inlineEnd:"x4"},!n&&r.createElement(c,{flexGrow:1,type:"reset",disabled:!M,onClick:O},b("Reset")),r.createElement(c,{mie:"none",flexGrow:1,disabled:!M&&!j,onClick:W},b("Save"))))))}n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){i=e}},1),n.export({PriorityEditWithData:()=>g,PriorityNew:()=>v,PriorityEdit:()=>C}),n.link("react",{default(e){r=e},useMemo(e){a=e}},0),n.link("@rocket.chat/fuselage",{Field(e){o=e},TextInput(e){s=e},Button(e){c=e},Margins(e){u=e},Box(e){d=e},NumberInput(e){m=e},Callout(e){p=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){E=e}},2),n.link("../../../../client/contexts/ServerContext",{useMethod(e){h=e}},3),n.link("../../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch(e){f=e}},4),n.link("../../../../client/contexts/TranslationContext",{useTranslation(e){k=e}},5),n.link("../../../../client/components/basic/VerticalBar",{default(e){x=e}},6),n.link("../../../../client/hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){_=e},ENDPOINT_STATES(e){y=e}},7),n.link("./Skeleton",{FormSkeleton(e){b=e}},8),n.link("../../../../client/hooks/useForm",{useForm(e){w=e}},9),n.link("../../../../client/contexts/RouterContext",{useRoute(e){T=e}},10)}


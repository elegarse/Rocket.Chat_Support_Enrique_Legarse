function module(e,t,n){let l,a,o,r,s,i,c,u,m,d,p,h,E,x,k,C,T,f,b,g,v,y,H,w;function D(e){let{_id:t,type:n,reload:l}=e;const a=w("livechat:removeBusinessHour"),r=y(),s=H(),i=T(),p=m(async()=>{try{await a(t,n)}catch(e){console.log(e)}l()}),h=m(e=>{e.stopPropagation();const t=async()=>{try{await p(),s({type:"success",message:i("Business_Hour_Removed")})}catch(e){s({type:"error",message:e})}r()};r(d.createElement(v,{onDelete:t,onCancel:()=>r()}))});return d.createElement(o.Cell,{fontScale:"p1",color:"hint",onClick:h,withTruncatedText:!0},d.createElement(u,{small:!0,ghost:!0,title:i("Remove"),onClick:h},d.createElement(c,{name:"trash",size:"x16"})))}n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.export({RemoveBusinessHourButton:()=>D,BusinessHoursTable:()=>S}),n.link("@rocket.chat/fuselage",{Table(e){o=e},Callout(e){r=e},Box(e){s=e},TextInput(e){i=e},Icon(e){c=e},Button(e){u=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){m=e}},1),n.link("react",{default(e){d=e},useState(e){p=e},memo(e){h=e},useMemo(e){E=e},useEffect(e){x=e}},2),n.link("../../../client/components/GenericTable",{default(e){k=e}},3),n.link("../../../client/contexts/RouterContext",{useRoute(e){C=e}},4),n.link("../../../client/contexts/TranslationContext",{useTranslation(e){T=e}},5),n.link("../../../client/hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint(e){f=e}},6),n.link("../../../client/hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){b=e},ENDPOINT_STATES(e){g=e}},7),n.link("../../../client/omnichannel/DeleteWarningModal",{default(e){v=e}},8),n.link("../../../client/contexts/ModalContext",{useSetModal(e){y=e}},9),n.link("../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch(e){H=e}},10),n.link("../../../client/contexts/ServerContext",{useMethod(e){w=e}},11);const R=h(e=>{let{setFilter:t}=e,n=a(e,["setFilter"]);const o=T(),[r,u]=p(""),h=m(e=>u(e.currentTarget.value),[]);return x(()=>{t({text:r})},[t,r]),d.createElement(s,l({mb:"x16",is:"form",onSubmit:m(e=>e.preventDefault(),[]),display:"flex",flexDirection:"column"},n),d.createElement(i,{placeholder:o("Search_Apps"),addon:d.createElement(c,{name:"magnifier",size:"x20"}),onChange:h,value:r}))}),P=h((function e(t){const{_id:n,name:l,timezone:a,workHours:r,active:s,type:i,reload:c}=t,u=T(),m=C("omnichannel-businessHours"),p=()=>{m.push({context:"edit",type:i,id:n})},h=e=>{["Enter","Space"].includes(e.nativeEvent.code)&&p()},x=E(()=>r.reduce((e,t)=>(t.open&&e.push(u(t.day)),e),[]),[u,r]),k=e=>{e.stopPropagation()};return d.createElement(o.Row,{key:n,role:"link",action:!0,tabIndex:0,onClick:p,onKeyDown:h},d.createElement(o.Cell,{withTruncatedText:!0},l||u("Default")),d.createElement(o.Cell,{withTruncatedText:!0},u(a.name)),d.createElement(o.Cell,{withTruncatedText:!0},x.join(", ")),d.createElement(o.Cell,{withTruncatedText:!0},u(s?"Yes":"No")),l&&d.createElement(o.Cell,{withTruncatedText:!0,onClick:k},d.createElement(D,{_id:n,reload:c,type:i})))})),B=()=>{const e=T(),[t,n]=p(()=>({current:0,itemsPerPage:25,text:""})),{data:l,state:a,reload:o}=b("livechat/business-hours.list?count=".concat(t.itemsPerPage,"&offset=").concat(t.current,"&name=").concat(t.text));return a===g.ERROR?d.createElement(r,null,e("Error"),": error"):d.createElement(S,{businessHours:null==l?void 0:l.businessHours,totalbusinessHours:null==l?void 0:l.total,params:t,onChangeParams:n,reload:o})};function S(e){let{businessHours:t,totalbusinessHours:n,params:a,onChangeParams:o,reload:r}=e;const s=T(),[i,c]=f([600],200);return d.createElement(k,{ref:i,header:d.createElement(d.Fragment,null,d.createElement(k.HeaderCell,null,s("Name")),d.createElement(k.HeaderCell,null,s("Timezone")),d.createElement(k.HeaderCell,null,s("Open_Days")),d.createElement(k.HeaderCell,{width:"x100"},s("Enabled")),d.createElement(k.HeaderCell,{width:"x100"},s("Remove"))),results:t,total:n,params:a,setParams:o,FilterComponent:R},e=>d.createElement(P,l({key:e._id,medium:c,reload:r},e)))}n.exportDefault(B)}


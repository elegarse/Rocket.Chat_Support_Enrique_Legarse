function module(e,l,t){let a,n,r,s,c,i,o,u,d,m,p,h;t.link("react",{default(e){a=e},useRef(e){n=e},useCallback(e){r=e},useMemo(e){s=e},useEffect(e){c=e}},0),t.link("@rocket.chat/fuselage",{Box(e){i=e},Field(e){o=e},TextInput(e){u=e},ToggleSwitch(e){d=e},Select(e){m=e}},1),t.link("../../../../client/contexts/TranslationContext",{useTranslation(e){p=e}},2),t.link("../../../../client/hooks/useForm",{useForm(e){h=e}},3);const E=e=>{var l;return{type:e.type||"input",required:!!e.required,defaultValue:null!==(l=e.defaultValue)&&void 0!==l?l:"",options:e.options||"",public:!!e.public}},f=e=>""!==e.trim()&&!/^([a-zA-Z0-9-_ ]+)(,\s*[a-zA-Z0-9-_ ]+)*$/i.test(e),v=e=>{let{data:l={},state:t,onChange:i,className:o}=e;const u=n({}),d=p(),m=r(e=>{let{initialValue:l,value:t,key:a}=e;const{current:n}=u;JSON.stringify(l)!==JSON.stringify(t)?n[a]=t:delete n[a]},[]),{values:v,handlers:g,hasUnsavedChanges:_}=h(E(l),m),y=s(()=>({optionsError:f(v.options)?d("error-invalid-value"):void 0}),[d,v.options]),k=s(()=>!!Object.values(y).filter(Boolean).length,[y]);return c(()=>{i({data:u.current,hasError:k,hasUnsavedChanges:_})},[k,_,i]),a.createElement(b,{values:v,handlers:g,state:t,className:o,errors:y})},b=e=>{let{values:l={},handlers:t={},state:n,className:r,errors:c}=e;const h=p(),{type:E,required:f,defaultValue:v,options:b,public:g}=l,{handleType:_,handleRequired:y,handleDefaultValue:k,handleOptions:C,handlePublic:N}=t,{optionsError:x}=c,w=s(()=>[["input",h("Input")],["select",h("Select")]],[h]);return a.createElement(a.Fragment,null,a.createElement(o,{className:r},a.createElement(i,{display:"flex",flexDirection:"row"},a.createElement(o.Label,{htmlFor:"required"},h("Required")),a.createElement(o.Row,null,a.createElement(d,{id:"required",checked:f,onChange:y})))),a.createElement(o,{className:r},a.createElement(o.Label,null,h("Type")),a.createElement(o.Row,null,a.createElement(m,{options:w,value:E,onChange:_}))),a.createElement(o,{className:r},a.createElement(o.Label,null,h("Default_value")),a.createElement(o.Row,null,a.createElement(u,{value:v,onChange:k,placeholder:h("Default_value")}))),a.createElement(o,{className:r},a.createElement(o.Label,null,h("Options")),a.createElement(o.Row,null,a.createElement(u,{value:b,onChange:C,error:x,disabled:"input"===E,placeholder:h("Options")})),a.createElement(o.Hint,null,h("Livechat_custom_fields_options_placeholder")),x&&a.createElement(o.Error,null,x)),a.createElement(o,{className:r},a.createElement(i,{display:"flex",flexDirection:"row"},a.createElement(o.Label,{htmlFor:"public"},h("Public")),a.createElement(o.Row,null,a.createElement(d,{disabled:!n.visibility,id:"public",checked:g,onChange:N}))),a.createElement(o.Hint,null,h("Livechat_custom_fields_public_description"))))};t.exportDefault(v)}


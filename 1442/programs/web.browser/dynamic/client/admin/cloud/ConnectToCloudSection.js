function module(e,t,r){let n,o,i,a,l,s,c,u,d,g,m,h,_,k,p;function C(e){let{onRegisterStatusChange:t}=e,r=o(e,["onRegisterStatusChange"]);const C=h(),x=p(),[f,y]=u(g(!1)),b=_("cloud:registerWorkspace"),E=_("cloud:syncWorkspace"),S=k("Cloud_Service_Agree_PrivacyTerms"),w=async()=>{y(!0);try{const e=await b();if(!e)throw Error(C("An error occured"));const r=await E();if(!r)throw Error(C("An error occured syncing"));x({type:"success",message:C("Sync Complete")})}catch(e){x({type:"error",message:e})}finally{await(t&&t()),y(!1)}};return d.createElement(i,n({is:"section"},r),d.createElement(m,null,C("Cloud_registration_required")),d.createElement(i,{withRichContent:!0,color:"neutral-800"},d.createElement("p",null,C("Cloud_registration_required_description"))),d.createElement(l,null,d.createElement(a,{primary:!0,disabled:f||!S,minHeight:"x40",onClick:w},f?d.createElement(s,{is:"span",inheritColor:!0}):C("Cloud_registration_required_link_text"))),!S&&d.createElement(i,{mb:"x12"},d.createElement(c,{type:"warning"},C("Cloud_Service_Agree_PrivacyTerms_Login_Disabled_Warning"))))}r.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),r.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){o=e}},1),r.link("@rocket.chat/fuselage",{Box(e){i=e},Button(e){a=e},ButtonGroup(e){l=e},Throbber(e){s=e},Callout(e){c=e}},0),r.link("@rocket.chat/fuselage-hooks",{useSafely(e){u=e}},1),r.link("react",{default(e){d=e},useState(e){g=e}},2),r.link("../../components/basic/Subtitle",{default(e){m=e}},3),r.link("../../contexts/TranslationContext",{useTranslation(e){h=e}},4),r.link("../../contexts/ServerContext",{useMethod(e){_=e}},5),r.link("../../contexts/SettingsContext",{useSetting(e){k=e}},6),r.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){p=e}},7),r.exportDefault(C)}


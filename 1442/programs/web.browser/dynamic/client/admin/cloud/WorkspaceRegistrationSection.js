function module(e,t,n){let o,l,a,r,c,s,u,i,d,k,m,g,h,p,E;function f(e){let{token:t,workspaceId:n,uniqueId:f,onRegisterStatusChange:x}=e,C=l(e,["token","workspaceId","uniqueId","onRegisterStatusChange"]);const y=h(),b=p(),w=E("cloud:connectWorkspace"),T=E("cloud:syncWorkspace"),[I,S]=d(g(!1)),[_,B]=g(t),M=e=>{let{currentTarget:{value:t}}=e;B(t)},R=async()=>{S(!0);try{const e=await w(_);if(!e)throw Error(y("An error occured connecting"));b({type:"success",message:y("Connected")});const t=await T();if(!t)throw Error(y("An error occured syncing"))}catch(e){b({type:"error",message:e})}finally{await(x&&x()),S(!1)}},q=k();return m.createElement(a,o({marginBlock:"neg-x24"},C),m.createElement(u,{block:"x24"},m.createElement(a,{withRichContent:!0,color:"neutral-800"},m.createElement("p",null,y("Cloud_token_instructions"))),m.createElement(s,null,m.createElement(s.Label,{htmlFor:q},y("Token")),m.createElement(s.Row,null,m.createElement(i,{id:q,disabled:I,value:_,onChange:M})),m.createElement(s.Hint,null,y("Cloud_manually_input_token"))),m.createElement(c,null,m.createElement(r,{primary:!0,disabled:I,onClick:R},y("Connect")))))}n.link("@babel/runtime/helpers/extends",{default(e){o=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},1),n.link("@rocket.chat/fuselage",{Box(e){a=e},Button(e){r=e},ButtonGroup(e){c=e},Field(e){s=e},Margins(e){u=e},TextInput(e){i=e}},0),n.link("@rocket.chat/fuselage-hooks",{useSafely(e){d=e},useUniqueId(e){k=e}},1),n.link("react",{default(e){m=e},useState(e){g=e}},2),n.link("../../contexts/TranslationContext",{useTranslation(e){h=e}},3),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){p=e}},4),n.link("../../contexts/ServerContext",{useMethod(e){E=e}},5),n.exportDefault(f)}


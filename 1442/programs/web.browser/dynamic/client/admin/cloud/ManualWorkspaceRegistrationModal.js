function module(e,t,n){let l,o,r,a,c,i,s,u,m,d,C,f,p,E,k,h,g,x;function y(e){let{onNextButtonClick:t}=e;const n=p(),i=h(),[k,y]=C(""),_=E("cloud:getWorkspaceRegisterData");d(()=>{const e=async()=>{const e=await _();y(e)};e()},[_]);const b=f();return d((function(){const e=new u(b.current);return e.on("success",()=>{i({type:"success",message:n("Copied")})}),()=>{e.destroy()}}),[i,n]),m.createElement(m.Fragment,null,m.createElement(s.Content,null,m.createElement(l,{withRichContent:!0},m.createElement("p",null,n("Cloud_register_offline_helper"))),m.createElement(l,{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"x16",flexGrow:1,backgroundColor:"neutral-800"},m.createElement(c,{vertical:!0},m.createElement(l,{height:"x108",fontFamily:"mono",fontScale:"p1",color:"alternative",style:{wordBreak:"break-all"}},k)),m.createElement(o,{ref:b,primary:!0,"data-clipboard-text":k},m.createElement(a,{name:"copy"})," ",n("Copy"))),m.createElement(g,{is:"p",preserveHtml:!0,withRichContent:!0,content:n("Cloud_click_here",{cloudConsoleUrl:x})})),m.createElement(s.Footer,null,m.createElement(r,null,m.createElement(o,{primary:!0,onClick:t},n("Next")))))}function _(e){let{onBackButtonClick:t,onFinish:n}=e;const a=p(),u=h(),[d,f]=C(!1),[E,g]=C(""),x=e=>{g(e.currentTarget.value)},y=k("POST","cloud.manualRegister"),_=async()=>{f(!0);try{await y({},{cloudBlob:E}),u({type:"success",message:a("Cloud_register_success")})}catch(e){u({type:"error",message:a("Cloud_register_error")})}finally{f(!1),n&&n()}};return m.createElement(m.Fragment,null,m.createElement(s.Content,null,m.createElement(l,{withRichContent:!0},m.createElement("p",null,a("Cloud_register_offline_finish_helper"))),m.createElement(l,{display:"flex",flexDirection:"column",alignItems:"stretch",padding:"x16",flexGrow:1,backgroundColor:"neutral-800"},m.createElement(c,{vertical:!0},m.createElement(l,{is:"textarea",height:"x108",fontFamily:"mono",fontScale:"p1",color:"alternative",style:{wordBreak:"break-all",resize:"none"},placeholder:a("Paste_here"),disabled:d,value:E,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",onChange:x})))),m.createElement(s.Footer,null,m.createElement(r,null,m.createElement(o,{disabled:d,onClick:t},a("Back")),m.createElement(o,{primary:!0,disabled:d||!E.trim(),marginInlineStart:"auto",onClick:_},d?m.createElement(i,{inheritColor:!0}):a("Finish Registration")))))}n.link("@rocket.chat/fuselage",{Box(e){l=e},Button(e){o=e},ButtonGroup(e){r=e},Icon(e){a=e},Scrollable(e){c=e},Throbber(e){i=e},Modal(e){s=e}},0),n.link("clipboard",{default(e){u=e}},1),n.link("react",{default(e){m=e},useEffect(e){d=e},useState(e){C=e},useRef(e){f=e}},2),n.link("../../contexts/TranslationContext",{useTranslation(e){p=e}},3),n.link("../../contexts/ServerContext",{useMethod(e){E=e},useEndpoint(e){k=e}},4),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){h=e}},5),n.link("../../components/basic/MarkdownText",{default(e){g=e}},6),n.link("./constants",{cloudConsoleUrl(e){x=e}},7);const b={COPY:"copy",PASTE:"paste"};function B(e){let{onClose:t,props:n}=e;const l=p(),[o,r]=C(b.COPY),a=()=>{r(b.PASTE)},c=()=>{r(b.COPY)};return m.createElement(s,n,m.createElement(s.Header,null,m.createElement(s.Title,null,l("Cloud_Register_manually")),m.createElement(s.Close,{onClick:t})),o===b.COPY&&m.createElement(y,{onNextButtonClick:a})||o===b.PASTE&&m.createElement(_,{onBackButtonClick:c,onFinish:t}))}n.exportDefault(B)}


function module(e,t,l){let n,a,r,c,s,o,m,u,i,E,d,C,p,h,k,_,S,f,y,b,g,x,w,T,D;l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),l.export({EditCustomUserStatusWithData:()=>B,EditCustomUserStatus:()=>M}),l.link("react",{default(e){r=e},useCallback(e){c=e},useState(e){s=e},useMemo(e){o=e},useEffect(e){m=e}},0),l.link("@rocket.chat/fuselage",{Box(e){u=e},Button(e){i=e},ButtonGroup(e){E=e},TextInput(e){d=e},Field(e){C=e},Select(e){p=e},Icon(e){h=e},Skeleton(e){k=e},Throbber(e){_=e},InputBox(e){S=e},Modal(e){f=e}},1),l.link("../../contexts/TranslationContext",{useTranslation(e){y=e}},2),l.link("../../contexts/ServerContext",{useMethod(e){b=e}},3),l.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){g=e}},4),l.link("../../contexts/ModalContext",{useSetModal(e){x=e}},5),l.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){w=e},ENDPOINT_STATES(e){T=e}},6),l.link("../../components/basic/VerticalBar",{default(e){D=e}},7);const U=e=>{let{onDelete:t,onCancel:l}=e,n=a(e,["onDelete","onCancel"]);const c=y();return(r.createElement(f,n,r.createElement(f.Header,null,r.createElement(h,{color:"danger",name:"modal-warning",size:20}),r.createElement(f.Title,null,c("Are_you_sure")),r.createElement(f.Close,{onClick:l})),r.createElement(f.Content,{fontScale:"p1"},c("Custom_User_Status_Delete_Warning")),r.createElement(f.Footer,null,r.createElement(E,{align:"end"},r.createElement(i,{ghost:!0,onClick:l},c("Cancel")),r.createElement(i,{primary:!0,danger:!0,onClick:t},c("Delete"))))))},v=e=>{let{onClose:t}=e,l=a(e,["onClose"]);const n=y();return(r.createElement(f,l,r.createElement(f.Header,null,r.createElement(h,{color:"success",name:"checkmark-circled",size:20}),r.createElement(f.Title,null,n("Deleted")),r.createElement(f.Close,{onClick:t})),r.createElement(f.Content,{fontScale:"p1"},n("Custom_User_Status_Has_Been_Deleted")),r.createElement(f.Footer,null,r.createElement(E,{align:"end"},r.createElement(i,{primary:!0,onClick:t},n("Ok"))))))};function B(e){let{_id:t,cache:l}=e,c=a(e,["_id","cache"]);const s=y(),m=o(()=>({query:JSON.stringify({_id:t})}),[t,l]),{data:d,state:C,error:p}=w("custom-user-status.list",m);return C===T.LOADING?r.createElement(u,{pb:"x20"},r.createElement(k,{mbs:"x8"}),r.createElement(S.Skeleton,{w:"full"}),r.createElement(k,{mbs:"x8"}),r.createElement(S.Skeleton,{w:"full"}),r.createElement(E,{stretch:!0,w:"full",mbs:"x8"},r.createElement(i,{disabled:!0},r.createElement(_,{inheritColor:!0})),r.createElement(i,{primary:!0,disabled:!0},r.createElement(_,{inheritColor:!0}))),r.createElement(E,{stretch:!0,w:"full",mbs:"x8"},r.createElement(i,{primary:!0,danger:!0,disabled:!0},r.createElement(_,{inheritColor:!0})))):p||!d||d.statuses.length<1?r.createElement(u,{fontScale:"h1",pb:"x20"},s("Custom_User_Status_Error_Invalid_User_Status")):r.createElement(M,n({data:d.statuses[0]},c))}function M(e){let{close:t,onChange:l,data:n}=e,u=a(e,["close","onChange","data"]);const k=y(),_=g(),{_id:S,name:f,statusType:w}=n||{},[T,B]=s(""),[M,N]=s(""),O=x();m(()=>{B(f||""),N(w||"")},[f,w,S]);const I=b("insertOrUpdateUserStatus"),A=b("deleteCustomUserStatus"),P=o(()=>f!==T||w!==M,[T,f,w,M]),R=c(async()=>{try{await I({_id:S,previousName:f,previousStatusType:w,name:T,statusType:M}),_({type:"success",message:k("Custom_User_Status_Updated_Successfully")}),l()}catch(e){_({type:"error",message:e})}},[I,S,f,w,T,M,_,k,l]),F=c(async()=>{try{await A(S),O(()=>r.createElement(v,{onClose:()=>{O(void 0),t(),l()}}))}catch(e){_({type:"error",message:e}),l()}},[S,t,A,_,l]),H=()=>O(()=>r.createElement(U,{onDelete:F,onCancel:()=>O(void 0)})),L=[["online",k("Online")],["busy",k("Busy")],["away",k("Away")],["offline",k("Offline")]];return r.createElement(D.ScrollableContent,u,r.createElement(C,null,r.createElement(C.Label,null,k("Name")),r.createElement(C.Row,null,r.createElement(d,{value:T,onChange:e=>B(e.currentTarget.value),placeholder:k("Name")}))),r.createElement(C,null,r.createElement(C.Label,null,k("Presence")),r.createElement(C.Row,null,r.createElement(p,{value:M,onChange:e=>N(e),placeholder:k("Presence"),options:L}))),r.createElement(C,null,r.createElement(C.Row,null,r.createElement(E,{stretch:!0,w:"full"},r.createElement(i,{onClick:t},k("Cancel")),r.createElement(i,{primary:!0,onClick:R,disabled:!P},k("Save"))))),r.createElement(C,null,r.createElement(C.Row,null,r.createElement(E,{stretch:!0,w:"full"},r.createElement(i,{primary:!0,danger:!0,onClick:H},r.createElement(h,{name:"trash",mie:"x4"}),k("Delete"))))))}}


function module(e,r,n){let t,i,l,o,s,a,u;n.export({default:()=>d}),n.link("react",{default(e){t=e}},0),n.link("toastr",{default(e){i=e}},1),n.link("../../contexts/AuthorizationContext",{usePermission(e){l=e}},2),n.link("../../contexts/ServerContext",{useMethod(e){o=e}},3),n.link("../../contexts/TranslationContext",{useTranslation(e){s=e}},4),n.link("./Mailer",{Mailer(e){a=e}},5),n.link("../../components/NotAuthorizedPage",{default(e){u=e}},6);const c=()=>{const e=o("Mailer.sendMail"),r=s();return n=>{let{fromEmail:t,subject:l,emailBody:o,dryRun:s,query:a}=n;a.error?i.error(r("Query_is_not_valid_JSON")):t.error||t.length<1?i.error(r("error-invalid-from-address")):-1!==o.indexOf("[unsubscribe]")?(e(t.value,l,o,s,a.value),i.success(r("The_emails_are_being_sent"))):i.error(r("error-missing-unsubscribe-link"))}};function d(){const e=l("access-mailer"),r=c();return e?t.createElement(a,{sendMail:r}):t.createElement(u,null)}}


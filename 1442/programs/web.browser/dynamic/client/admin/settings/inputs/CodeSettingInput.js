function module(e,t,r){let a,l,n,o,c,i,u,s,d,m,g,h,p,f;r.link("@babel/runtime/helpers/extends",{default(e){a=e}},0),r.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){l=e}},1),r.export({CodeSettingInput:()=>C}),r.link("@rocket.chat/fuselage",{Box(e){n=e},Button(e){o=e},Field(e){c=e},Flex(e){i=e}},0),r.link("@rocket.chat/fuselage-hooks",{useToggle(e){u=e},useMutableCallback(e){s=e}},1),r.link("react",{default(e){d=e},useEffect(e){m=e},useRef(e){g=e},useState(e){h=e}},2),r.link("../../../contexts/TranslationContext",{useTranslation(e){p=e}},3),r.link("../ResetSettingButton",{ResetSettingButton(e){f=e}},4);const b=["CodeMirror-linenumbers","CodeMirror-foldgutter"];function k(e){let{lineNumbers:t=!0,lineWrapping:n=!0,mode:o="javascript",gutters:c=b,foldGutter:i=!0,matchBrackets:u=!0,autoCloseBrackets:p=!0,matchTags:f=!0,showTrailingSpace:k=!0,highlightSelectionMatches:C=!0,readOnly:y,value:B,defaultValue:E,onChange:x}=e,S=l(e,["lineNumbers","lineWrapping","mode","gutters","foldGutter","matchBrackets","autoCloseBrackets","matchTags","showTrailingSpace","highlightSelectionMatches","readOnly","value","defaultValue","onChange"]);const[T,v]=h(B||E),M=g(),w=g(),F=s(x);return m(()=>{if(w.current)return;const e=async()=>{const e=await r.dynamicImport("codemirror/lib/codemirror.js");await r.dynamicImport("../../../../app/ui/client/lib/codeMirror/codeMirror"),await r.dynamicImport("codemirror/lib/codemirror.css"),M.current&&(w.current=e.fromTextArea(M.current,{lineNumbers:t,lineWrapping:n,mode:o,gutters:c,foldGutter:i,matchBrackets:u,autoCloseBrackets:p,matchTags:f,showTrailingSpace:k,highlightSelectionMatches:C,readOnly:y}),w.current.on("change",e=>{const t=e.getValue();v(t),F(t)}))};return e(),()=>{w.current&&w.current.toTextArea()}},[p,i,c,C,t,n,u,f,o,F,y,M,k]),m(()=>{v(B)},[B]),m(()=>{w.current&&T!==w.current.getValue()&&w.current.setValue(T)},[M,T]),d.createElement("textarea",a({readOnly:!0,ref:M,style:{display:"none"},value:T},S))}function C(e){let{_id:t,label:r,value:a="",code:l,placeholder:s,readonly:m,autocomplete:g,disabled:h,hasResetButton:b,onChangeValue:C,onResetButtonClick:y}=e;const B=p(),[E,x]=u(!1),S=e=>{C(e)};return d.createElement(d.Fragment,null,d.createElement(i.Container,null,d.createElement(n,null,d.createElement(c.Label,{htmlFor:t,title:t},r),b&&d.createElement(f,{"data-qa-reset-setting-id":t,onClick:y}))),d.createElement("div",{className:["code-mirror-box",E&&"code-mirror-box-fullscreen content-background-color"].filter(Boolean).join(" ")},d.createElement("div",{className:"title"},r),d.createElement(k,{"data-qa-setting-id":t,id:t,mode:l,value:a,placeholder:s,disabled:h,readOnly:m,autoComplete:!1===g?"off":void 0,onChange:S}),d.createElement("div",{className:"buttons"},d.createElement(o,{primary:!0,onClick:()=>x()},B(E?"Exit_Full_Screen":"Full_Screen")))))}}


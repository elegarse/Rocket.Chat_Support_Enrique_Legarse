function module(e,t,n){let o,r,a,l,i,s,u,d,c,g,k,m,p,h;n.link("@babel/runtime/helpers/extends",{default(e){o=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default(e){r=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},2),n.export({default:()=>b}),n.link("react",{default(e){l=e},useMemo(e){i=e},useCallback(e){s=e}},0),n.link("@rocket.chat/fuselage",{Field(e){u=e},Button(e){d=e}},1),n.link("@rocket.chat/fuselage-hooks",{useUniqueId(e){c=e}},2),n.link("../../../contexts/TranslationContext",{useTranslation(e){g=e}},3),n.link("../../../hooks/useEndpointAction",{useEndpointAction(e){k=e}},4),n.link("../../../contexts/RouterContext",{useRoute(e){m=e}},5),n.link("../../../hooks/useForm",{useForm(e){p=e}},6),n.link("../OutgoiongWebhookForm",{default(e){h=e}},7);const f={type:"webhook-outgoing",enabled:!0,impersonateUser:!1,event:"sendMessage",urls:"",triggerWords:"",targetRoom:"",channel:"",username:"",name:"",alias:"",avatar:"",emoji:"",scriptEnabled:!1,script:"",retryFailedCalls:!0,retryCount:6,retryDelay:"powers-of-ten",triggerWordAnywhere:!1,runOnEdits:!0};function b(e){let{data:t=f,onChange:n,setSaveAction:b}=e,y=a(e,["data","onChange","setSaveAction"]);const x=g(),C=m("admin-integrations"),{values:E,handlers:w}=p(r({},t,{token:c()})),{urls:v,triggerWords:S}=E,W=i(()=>r({},E,{urls:v.split("\n"),triggerWords:S.split(";")}),[JSON.stringify(E)]),A=k("POST","integrations.create",W,x("Integration_added")),F=s(async()=>{const e=await A();e.success&&C.push({id:e.integration._id,context:"edit",type:"outgoing"})},[A,C]),O=i(()=>l.createElement(u,null,l.createElement(u.Row,null,l.createElement(d,{w:"full",mie:"none",flexGrow:1,onClick:F},x("Save")))),[F,x]);return l.createElement(h,o({formValues:E,formHandlers:w,append:O},y))}}


function module(e,t,n){let l,r,a,c,i,s,o,m,u,g,h,d,E,k,p,f,x,b,P,S,C,y,w;n.link("@babel/runtime/helpers/objectSpread2",{default(e){l=e}},0),n.link("@babel/runtime/helpers/extends",{default(e){r=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},2),n.link("@rocket.chat/fuselage",{Box(e){c=e},Button(e){i=e},ButtonGroup(e){s=e},Icon(e){o=e},Accordion(e){m=e},Skeleton(e){u=e},Margins(e){g=e},Pagination(e){h=e}},0),n.link("@rocket.chat/fuselage-hooks",{useSafely(e){d=e}},1),n.link("react",{default(e){E=e},useCallback(e){k=e},useState(e){p=e},useEffect(e){f=e}},2),n.link("../../components/basic/Page",{default(e){x=e}},3),n.link("../../contexts/RouterContext",{useCurrentRoute(e){b=e},useRoute(e){P=e}},4),n.link("../../contexts/ServerContext",{useEndpoint(e){S=e}},5),n.link("../../contexts/TranslationContext",{useTranslation(e){C=e}},6),n.link("../../hooks/useHighlightedCode",{useHighlightedCode(e){y=e}},7),n.link("../../hooks/useFormatDateAndTime",{useFormatDateAndTime(e){w=e}},8);const I=e=>{let{severity:t,timestamp:n,caller:l,args:r}=e;const a=C();return(E.createElement(c,null,E.createElement(c,null,t,": ",n," ",a("Caller"),": ",l),E.createElement(c,{withRichContent:!0,width:"full"},E.createElement("pre",null,E.createElement("code",{dangerouslySetInnerHTML:{__html:y("json",JSON.stringify(r,null,2))}})))))},v=e=>{let{entries:t,instanceId:n,title:l,t:i}=e,s=a(e,["entries","instanceId","title","t"]);return(E.createElement(m.Item,r({title:l},s),n&&E.createElement(c,null,i("Instance"),": ",n),t.map((e,t)=>{let{severity:n,timestamp:l,caller:r,args:a}=e;return(E.createElement(I,{key:t,severity:n,timestamp:l,caller:r,args:a}))})))},_=()=>E.createElement(c,{maxWidth:"x600",w:"full",alignSelf:"center"},E.createElement(g,{block:"x2"},E.createElement(u,{variant:"rect",width:"100%",height:"x80"}),E.createElement(u,{variant:"rect",width:"100%",height:"x80"}),E.createElement(u,{variant:"rect",width:"100%",height:"x80"}))),T=e=>{let{id:t,current:n,itemsPerPage:r}=e;const[a,c]=d(p({})),i=S("GET","/apps/".concat(t)),s=S("GET","/apps/".concat(t,"/logs")),o=k(async()=>{try{const[{app:e},{logs:t}]=await Promise.all([i(),s()]);c(l({},e,{logs:t}))}catch(e){c({error:e})}},[i,s,c]);f(()=>{o()},[o]);const m=a.logs&&n>a.logs.length?0:n,u=a.logs?a.logs.length:0,g=a.logs?l({},a,{logs:a.logs.slice(m,r+n)}):a;return[g,u,o]};function R(e){let{id:t}=e,n=a(e,["id"]);const l=C(),u=w(),[g,d]=p(25),[f,S]=p(0),[y,I,R]=T({id:t,itemsPerPage:g,current:f}),[A]=b(),j=P(A),B=()=>{R()},D=()=>{j.push()},H=!Object.values(y).length,L=!H&&!y.error,W=k(e=>{let{count:t,current:n,itemsPerPage:r}=e;return l("Showing results %s - %s of %s",n+1,Math.min(n+r,t),t)},[l]),F=k(()=>l("Items_per_page:"),[l]);return E.createElement(x,r({flexDirection:"column"},n),E.createElement(x.Header,{title:l("View_the_Logs_for",{name:y.name||""})},E.createElement(s,null,E.createElement(i,{primary:!0,onClick:B},E.createElement(o,{name:"undo"})," ",l("Refresh")),E.createElement(i,{onClick:D},E.createElement(o,{name:"back"})," ",l("Back")))),E.createElement(x.ScrollableContent,null,H&&E.createElement(_,null),y.error&&E.createElement(c,{maxWidth:"x600",alignSelf:"center",fontScale:"h1"},y.error.message),L&&E.createElement(E.Fragment,null,E.createElement(m,{maxWidth:"x600",alignSelf:"center"},y.logs&&y.logs.map(e=>E.createElement(v,{key:e._createdAt,title:"".concat(u(e._createdAt),': "').concat(e.method,'" (').concat(e.totalTime,"ms)"),instanceId:e.instanceId,entries:e.entries,t:l}))))),E.createElement(h,{mi:"x24",divider:!0,current:f,itemsPerPage:g,itemsPerPageLabel:F,showingResultsLabel:W,count:I,onSetItemsPerPage:d,onSetCurrent:S}))}n.exportDefault(R)}


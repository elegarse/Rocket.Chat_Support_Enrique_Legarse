function module(e,l,t){let n,a,r,o,c,i,s,u,p,m,d,E,h,k,x,f,F,C,_,b;t.link("@rocket.chat/fuselage",{Button(e){n=e},ButtonGroup(e){a=e},Icon(e){r=e},Field(e){o=e},FieldGroup(e){c=e},TextInput(e){i=e},Throbber(e){s=e}},0),t.link("react",{default(e){u=e},useCallback(e){p=e},useEffect(e){m=e},useState(e){d=e}},1),t.link("../../components/basic/Page",{default(e){E=e}},2),t.link("../../contexts/RouterContext",{useRoute(e){h=e},useQueryStringParameter(e){k=e}},3),t.link("../../contexts/ServerContext",{useEndpoint(e){x=e},useUpload(e){f=e}},4),t.link("../../contexts/TranslationContext",{useTranslation(e){F=e}},5),t.link("../../hooks/useFileInput",{useFileInput(e){C=e}},6),t.link("../../hooks/useForm",{useForm(e){_=e}},7),t.link("./helpers",{handleInstallError(e){b=e}},8);const I="https://rocket.chat/apps/package.zip";function g(){const e=F(),l=h("admin-apps"),t=k("id"),g=k("url"),[w,y]=d(!1),S=t?"/apps/".concat(t):"/apps",v=x("POST",S),T=f(S),{values:D,handlers:R}=_({file:{},url:g}),{file:U,url:z}=D,A=!!z||!!U.name,{handleFile:B,handleUrl:P}=R;m(()=>{g&&P(g)},[g,P]);const[G]=C(B,"app"),L=p(async()=>{y(!0);try{if(z){const{app:e}=await v({url:z});return void l.push({context:"details",id:e.id})}const e=new FormData;e.append("app",U,U.name);const{app:t}=await T(e);l.push({context:"details",id:t.id})}catch(e){b(e)}finally{y(!1)}},[z,l,v,U,T]),H=()=>{l.push()};return u.createElement(E,{flexDirection:"column"},u.createElement(E.Header,{title:e("App_Installation")}),u.createElement(E.ScrollableContent,null,u.createElement(c,{display:"flex",flexDirection:"column",alignSelf:"center",maxWidth:"x600",w:"full"},u.createElement(o,null,u.createElement(o.Label,null,e("App_Url_to_Install_From")),u.createElement(o.Row,null,u.createElement(i,{placeholder:I,value:z,onChange:P,addon:u.createElement(r,{name:"permalink",size:"x20"})}))),u.createElement(o,null,u.createElement(o.Label,null,e("App_Url_to_Install_From_File")),u.createElement(o.Row,null,u.createElement(i,{value:U.name||"",addon:u.createElement(n,{small:!0,primary:!0,onClick:G,mb:"neg-x4",mie:"neg-x8"},u.createElement(r,{name:"upload",size:"x12"}),e("Browse_Files"))}))),u.createElement(o,null,u.createElement(a,null,u.createElement(n,{disabled:!A||w,onClick:L},!w&&e("Install"),w&&u.createElement(s,{inheritColor:!0})),u.createElement(n,{onClick:H},e("Cancel")))))))}t.exportDefault(g)}


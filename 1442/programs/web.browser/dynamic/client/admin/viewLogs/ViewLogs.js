function module(e,t,n){let r,o,l,s,c,a,i,u,d,m,g,p,f;n.link("meteor/meteor",{Meteor(e){r=e}},0),n.link("react",{default(e){o=e},useEffect(e){l=e},useRef(e){s=e},useState(e){c=e},useCallback(e){a=e}},1),n.link("@rocket.chat/fuselage",{Box(e){i=e},Icon(e){u=e},Scrollable(e){d=e}},2),n.link("../../components/basic/Page",{default(e){m=e}},3),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){g=e}},4),n.link("../../contexts/ServerContext",{useEndpoint(e){p=e}},5),n.link("../../contexts/TranslationContext",{useTranslation(e){f=e}},6);const x={30:"gray",31:"red",32:"lime",33:"yellow",34:"#6B98FF",35:"#FF00FF",36:"cyan",37:"white"},w=e=>(e=e.replace(/\s/g,"&nbsp;").replace(/(\\n|\n)/g,"<br>").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/(.\d{8}-\d\d:\d\d:\d\d\.\d\d\d\(?.{0,2}\)?)/,"<span>$1</span>").replace(/\033\[1m/g,"<strong>").replace(/\033\[22m/g,"</strong>").replace(/\033\[3m/g,"<em>").replace(/\033\[23m/g,"</em>").replace(/\033\[m/g,"</span>").replace(/\033\[0m/g,"</span>").replace(/\033\[39m/g,"</span>"),Object.entries(x).reduce((e,t)=>{let[n,r]=t;const o='<span style="color: '.concat(r,'">');return e.replace(new RegExp("\\033\\[".concat(n,"m"),"g"),o).replace(new RegExp("\\033\\[0;".concat(n,"m"),"g"),o)},e));function h(){const[e,t]=c([]);window.setLines=t;const n=g(),x=p("GET","stdout.queue");l(()=>{const e=async()=>{try{const{queue:e}=await x();t(e)}catch(e){n({type:"error",message:e})}};e()},[n,x]),l(()=>{const e=new r.Streamer("stdout"),n=e=>{t(t=>[...t,e])};return e.on("stdout",n),()=>{e.removeListener("stdout")}},[]);const h=f(),E=s(),k=s(),[b,v]=c(!1),y=a(e=>{const t=E.current;return null==e&&(e=0),t.scrollTop+e>=t.scrollHeight-t.clientHeight&&(v(!1),!0)},[]),T=a(()=>{const e=E.current;e.scrollTop=e.scrollHeight-e.clientHeight,v(!1)},[]),S=a(()=>{k.current=y(100)},[y]),M=a(()=>{!0===k.current&&!0!==y()?T():!1===k.current&&v(!0)},[y,T]);l(()=>{const e=E.current;if(window.MutationObserver){const t=new MutationObserver(e=>{e.forEach(()=>{M()})});return t.observe(e,{childList:!0}),()=>{t.disconnect()}}const t=()=>{M()};return e.addEventListener("DOMSubtreeModified",t),()=>{e.removeEventListener("DOMSubtreeModified",t)}},[M]),l(()=>{const e=()=>{setTimeout(()=>{M()},100)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[M]);const L=a(()=>{k.current=!1,setTimeout(()=>{S()},100)},[S]),C=()=>{k.current=!1},F=a(()=>{setTimeout(()=>{S()},100)},[S]),B=a(()=>{k.current=!1,setTimeout(()=>{S()},100)},[S]),H=a(()=>{k.current=!0,M()},[M]);return o.createElement(m,null,o.createElement(m.Header,{title:h("View Logs")}),o.createElement(m.Content,null,o.createElement(i,{width:"full",height:"full",overflow:"hidden",position:"relative",display:"flex",marginBlock:"x8"},o.createElement(d,{vertical:!0},o.createElement(i,{ref:E,display:"flex",flexDirection:"column",padding:"x8",flexGrow:1,fontFamily:"mono",color:"alternative",backgroundColor:"neutral-800",style:{wordBreak:"break-all"},onWheel:L,onTouchStart:C,onTouchEnd:F,onScroll:B},e.sort((e,t)=>e.ts-t.ts).map((e,t)=>{let{string:n}=e;return(o.createElement("span",{key:t,dangerouslySetInnerHTML:{__html:w(n)}}))}))),o.createElement(i,{position:"absolute",insetBlockEnd:"x8",insetInlineStart:"50%",width:"x132",height:"x32",marginInline:"neg-x64",paddingBlock:"x8",fontScale:"c1",borderRadius:"full",color:"primary-500",backgroundColor:"surface",onClick:H,textAlign:"center",style:{cursor:"pointer",transition:"transform 0.3s ease-out",transform:b?"translateY(0)":"translateY(150%)"}},o.createElement(u,{name:"jump",size:"x16"})," ",h("New_logs")))))}n.exportDefault(h)}


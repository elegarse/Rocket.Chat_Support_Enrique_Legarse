function module(e,t,n){let l,a,o,c,r,i,m,s,u,E,d,p,C,h,k,b,f,x,g,j,_,y,S,w,D,T;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.export({EditCustomEmojiWithData:()=>U,EditCustomEmoji:()=>A}),n.link("react",{default(e){o=e},useCallback(e){c=e},useState(e){r=e},useMemo(e){i=e},useEffect(e){m=e}},0),n.link("@rocket.chat/fuselage",{Box(e){s=e},Button(e){u=e},ButtonGroup(e){E=e},Margins(e){d=e},TextInput(e){p=e},Field(e){C=e},Icon(e){h=e},Skeleton(e){k=e},Throbber(e){b=e},InputBox(e){f=e},Modal(e){x=e}},1),n.link("../../contexts/TranslationContext",{useTranslation(e){g=e}},2),n.link("../../hooks/useFileInput",{useFileInput(e){j=e}},3),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){_=e},ENDPOINT_STATES(e){y=e}},4),n.link("../../hooks/useEndpointUpload",{useEndpointUpload(e){S=e}},5),n.link("../../contexts/ModalContext",{useSetModal(e){w=e}},6),n.link("../../hooks/useEndpointAction",{useEndpointAction(e){D=e}},7),n.link("../../components/basic/VerticalBar",{default(e){T=e}},8);const I=e=>{let{onDelete:t,onCancel:n}=e,l=a(e,["onDelete","onCancel"]);const c=g();return(o.createElement(x,l,o.createElement(x.Header,null,o.createElement(h,{color:"danger",name:"modal-warning",size:20}),o.createElement(x.Title,null,c("Are_you_sure")),o.createElement(x.Close,{onClick:n})),o.createElement(x.Content,{fontScale:"p1"},c("Custom_Emoji_Delete_Warning")),o.createElement(x.Footer,null,o.createElement(E,{align:"end"},o.createElement(u,{ghost:!0,onClick:n},c("Cancel")),o.createElement(u,{primary:!0,danger:!0,onClick:t},c("Delete"))))))},v=e=>{let{onClose:t}=e,n=a(e,["onClose"]);const l=g();return(o.createElement(x,n,o.createElement(x.Header,null,o.createElement(h,{color:"success",name:"checkmark-circled",size:20}),o.createElement(x.Title,null,l("Deleted")),o.createElement(x.Close,{onClick:t})),o.createElement(x.Content,{fontScale:"p1"},l("Custom_Emoji_Has_Been_Deleted")),o.createElement(x.Footer,null,o.createElement(E,{align:"end"},o.createElement(u,{primary:!0,onClick:t},l("Ok"))))))};function U(e){let{_id:t,cache:n,onChange:c}=e,r=a(e,["_id","cache","onChange"]);const m=g(),d=i(()=>({query:JSON.stringify({_id:t})}),[t,n]),{data:p={emojis:{}},state:C,error:h}=_("emoji-custom.list",d);return C===y.LOADING?o.createElement(s,{pb:"x20"},o.createElement(k,{mbs:"x8"}),o.createElement(f.Skeleton,{w:"full"}),o.createElement(k,{mbs:"x8"}),o.createElement(f.Skeleton,{w:"full"}),o.createElement(E,{stretch:!0,w:"full",mbs:"x8"},o.createElement(u,{disabled:!0},o.createElement(b,{inheritColor:!0})),o.createElement(u,{primary:!0,disabled:!0},o.createElement(b,{inheritColor:!0}))),o.createElement(E,{stretch:!0,w:"full",mbs:"x8"},o.createElement(u,{primary:!0,danger:!0,disabled:!0},o.createElement(b,{inheritColor:!0})))):h||!p||!p.emojis||p.emojis.update.length<1?o.createElement(s,{fontScale:"h1",pb:"x20"},m("Custom_User_Status_Error_Invalid_User_Status")):o.createElement(A,l({data:p.emojis.update[0],onChange:c},r))}function A(e){let{close:t,onChange:n,data:l}=e,k=a(e,["close","onChange","data"]);const b=g(),{_id:f,name:x,aliases:_,extension:y}=l||{},U=l||{},[A,F]=r(x),[R,B]=r(_.join(", ")),[L,N]=r(),O=w(),[M,z]=r("/emoji-custom/".concat(encodeURIComponent(x),".").concat(y));m(()=>{F(x||""),B(_&&_.join(", ")||"")},[x,_,U,f]);const H=c(async e=>{N(e),z(URL.createObjectURL(e))},[N]),P=i(()=>x!==A||R!==_.join(", ")||!!L,[x,A,R,_,L]),W=S("emoji-custom.update",{},b("Custom_Emoji_Updated_Successfully")),q=c(async()=>{const e=new FormData;e.append("emoji",L),e.append("_id",f),e.append("name",A),e.append("aliases",R);const t=await W(e);t.success&&n()},[L,f,A,R,W,n]),G=D("POST","emoji-custom.delete",i(()=>({emojiId:f}),[f])),J=c(async()=>{const e=await G();e.success&&O(()=>o.createElement(v,{onClose:()=>{O(void 0),t(),n()}}))},[t,G,n]),V=c(()=>O(()=>o.createElement(I,{onDelete:J,onCancel:()=>O(void 0)})),[J,O]),K=c(e=>B(e.currentTarget.value),[B]),[Q]=j(H,"emoji");return o.createElement(T.ScrollableContent,k,o.createElement(C,null,o.createElement(C.Label,null,b("Name")),o.createElement(C.Row,null,o.createElement(p,{value:A,onChange:e=>F(e.currentTarget.value),placeholder:b("Name")}))),o.createElement(C,null,o.createElement(C.Label,null,b("Aliases")),o.createElement(C.Row,null,o.createElement(p,{value:R,onChange:K,placeholder:b("Aliases")}))),o.createElement(C,null,o.createElement(C.Label,{alignSelf:"stretch",display:"flex",justifyContent:"space-between",alignItems:"center"},b("Custom_Emoji"),o.createElement(u,{square:!0,onClick:Q},o.createElement(h,{name:"upload",size:"x20"}))),M&&o.createElement(s,{display:"flex",flexDirection:"row",mbs:"none",justifyContent:"center"},o.createElement(d,{inline:"x4"},o.createElement(s,{is:"img",style:{objectFit:"contain"},w:"x120",h:"x120",src:M})))),o.createElement(C,null,o.createElement(C.Row,null,o.createElement(E,{stretch:!0,w:"full"},o.createElement(u,{onClick:t},b("Cancel")),o.createElement(u,{primary:!0,onClick:q,disabled:!P},b("Save"))))),o.createElement(C,null,o.createElement(C.Row,null,o.createElement(E,{stretch:!0,w:"full"},o.createElement(u,{primary:!0,danger:!0,onClick:V},o.createElement(h,{name:"trash",mie:"x4"}),b("Delete"))))))}}


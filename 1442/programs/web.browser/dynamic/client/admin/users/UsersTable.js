function module(e,t,a){let n,l,r,s,i,o,c,m,u,d,f,x,p,k,E,y,h,g,b,C;a.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),a.link("@babel/runtime/helpers/extends",{default(e){l=e}},1),a.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){r=e}},2),a.export({UsersTable:()=>D}),a.link("@rocket.chat/fuselage",{Box(e){s=e},Table(e){i=e},TextInput(e){o=e},Icon(e){c=e}},0),a.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){m=e},useMediaQuery(e){u=e}},1),a.link("react",{default(e){d=e},useMemo(e){f=e},useCallback(e){x=e},useState(e){p=e},useEffect(e){k=e}},2),a.link("../../components/basic/avatar/UserAvatar",{default(e){E=e}},3),a.link("../../components/GenericTable",{GenericTable(e){y=e},Th(e){h=e}},4),a.link("../../contexts/TranslationContext",{useTranslation(e){g=e}},5),a.link("../../contexts/RouterContext",{useRoute(e){b=e}},6),a.link("../../hooks/useEndpointData",{useEndpointData(e){C=e}},7);const v={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},S=e=>{let{setFilter:t}=e,a=r(e,["setFilter"]);const n=g(),[i,m]=p(""),u=x(e=>m(e.currentTarget.value),[]);return k(()=>{t({text:i})},[t,i]),d.createElement(s,l({mb:"x16",is:"form",onSubmit:x(e=>e.preventDefault(),[]),display:"flex",flexDirection:"column"},a),d.createElement(o,{flexShrink:0,placeholder:n("Search_Users"),addon:d.createElement(c,{name:"magnifier",size:"x20"}),onChange:u,value:i}))},w=e=>"asc"===e?1:-1,T=(e,t)=>{let{text:a,itemsPerPage:l,current:r}=e,[s,i]=t;return f(()=>n({fields:JSON.stringify({name:1,username:1,emails:1,roles:1,status:1,avatarETag:1}),query:JSON.stringify({$or:[{"emails.address":{$regex:a||"",$options:"i"}},{username:{$regex:a||"",$options:"i"}},{name:{$regex:a||"",$options:"i"}}]}),sort:JSON.stringify({[s]:w(i),usernames:"name"===s?w(i):void 0})},l&&{count:l},{},r&&{offset:r}),[a,l,r,s,i])};function D(){const e=g(),[t,a]=p({text:"",current:0,itemsPerPage:25}),[n,l]=p(["name","asc"]),r=m(t,500),o=m(n,500),c=T(r,o),k=C("users.list",c)||{},w=b("admin-users"),D=x(e=>()=>w.push({context:"info",id:e}),[w]),$=x(e=>{const[t,a]=n;l(t!==e?[e,"asc"]:[e,"asc"===a?"desc":"asc"])},[n]),P=u("(min-width: 1024px)"),R=f(()=>[d.createElement(h,{key:"name",direction:n[1],active:"name"===n[0],onClick:$,sort:"name",w:"x200"},e("Name")),P&&d.createElement(h,{key:"username",direction:n[1],active:"username"===n[0],onClick:$,sort:"username",w:"x140"},e("Username")),d.createElement(h,{key:"email",direction:n[1],active:"emails.adress"===n[0],onClick:$,sort:"emails.address",w:"x120"},e("Email")),P&&d.createElement(h,{key:"roles",direction:n[1],active:"roles"===n[0],onClick:$,sort:"roles",w:"x120"},e("Roles")),d.createElement(h,{key:"status",direction:n[1],active:"status"===n[0],onClick:$,sort:"status",w:"x100"},e("Status"))].filter(Boolean),[n,$,e,P]),I=x(e=>{let{emails:t,_id:a,username:n,name:l,roles:r,status:o,avatarETag:c}=e;return(d.createElement(i.Row,{key:a,onKeyDown:D(a),onClick:D(a),tabIndex:0,role:"link",action:!0,"qa-user-id":a},d.createElement(i.Cell,{style:v},d.createElement(s,{display:"flex",alignItems:"center"},d.createElement(E,{size:P?"x28":"x40",title:n,username:n,etag:c}),d.createElement(s,{display:"flex",style:v,mi:"x8"},d.createElement(s,{display:"flex",flexDirection:"column",alignSelf:"center",style:v},d.createElement(s,{fontScale:"p2",style:v,color:"default"},l||n),!P&&l&&d.createElement(s,{fontScale:"p1",color:"hint",style:v}," ","@".concat(n)," "))))),P&&d.createElement(i.Cell,null,d.createElement(s,{fontScale:"p2",style:v,color:"hint"},n)," ",d.createElement(s,{mi:"x4"})),d.createElement(i.Cell,{style:v},t&&t.length&&t[0].address),P&&d.createElement(i.Cell,{style:v},r&&r.join(", ")),d.createElement(i.Cell,{fontScale:"p1",color:"hint",style:v},o)))},[P,D]);return d.createElement(y,{FilterComponent:S,header:R,renderRow:I,results:k.users,total:k.total,setParams:a,params:t})}a.exportDefault(D)}


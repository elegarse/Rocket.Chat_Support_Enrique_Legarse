function module(e,t,a){let n,l,r,c,i,o,s,m,u,d,x,E,k,h,f,T,g,p,w,v;function C(e){let{_id:t,reload:a}=e;const n=h(),l=T("DELETE","livechat/users/manager/".concat(t)),r=c(async()=>{const e=await l();!0===e.success&&a()});return i.createElement(d.Cell,{fontScale:"p1",clickable:!0,color:"hint",onClick:r,withTruncatedText:!0},i.createElement(E,{small:!0,ghost:!0,title:n("Remove"),onClick:r},i.createElement(x,{name:"trash",size:"x16"})))}a.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),a.export({RemoveManagerButton:()=>C,ManagersRoute:()=>S}),a.link("@rocket.chat/fuselage-hooks",{useDebouncedValue(e){l=e},useMediaQuery(e){r=e},useMutableCallback(e){c=e}},0),a.link("react",{default(e){i=e},useMemo(e){o=e},useCallback(e){s=e},useState(e){m=e}},1),a.link("@rocket.chat/fuselage",{Box(e){u=e},Table(e){d=e},Icon(e){x=e},Button(e){E=e}},2),a.link("../../components/GenericTable",{Th(e){k=e}},3),a.link("../../contexts/TranslationContext",{useTranslation(e){h=e}},4),a.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){f=e}},5),a.link("../../hooks/useEndpointAction",{useEndpointAction(e){T=e}},6),a.link("../../contexts/AuthorizationContext",{usePermission(e){g=e}},7),a.link("../../components/NotAuthorizedPage",{default(e){p=e}},8),a.link("./ManagersPage",{default(e){w=e}},9),a.link("../../components/basic/avatar/UserAvatar",{default(e){v=e}},10);const y=e=>"asc"===e?1:-1,b=(e,t)=>{let{text:a,itemsPerPage:l,current:r}=e,[c,i]=t;return o(()=>n({fields:JSON.stringify({name:1,username:1,emails:1,avatarETag:1}),text:a,sort:JSON.stringify({[c]:y(i),usernames:"name"===c?y(i):void 0})},l&&{count:l},{},r&&{offset:r}),[a,l,r,c,i])};function S(){const e=h(),t=g("manage-livechat-managers"),[a,n]=m({text:"",current:0,itemsPerPage:25}),[x,E]=m(["name","asc"]),T=r("(min-width: 1024px)"),y=c(e=>{const[t,a]=x;E(t!==e?[e,"asc"]:[e,"asc"===a?"desc":"asc"])}),S=l(a,500),P=l(x,500),M=b(S,P),{data:D,reload:R}=f("livechat/users/manager",M)||{},A=o(()=>[i.createElement(k,{key:"name",direction:x[1],active:"name"===x[0],onClick:y,sort:"name",w:"x200"},e("Name")),T&&i.createElement(k,{key:"username",direction:x[1],active:"username"===x[0],onClick:y,sort:"username",w:"x140"},e("Username")),i.createElement(k,{key:"email",direction:x[1],active:"emails.adress"===x[0],onClick:y,sort:"emails.address",w:"x120"},e("Email")),i.createElement(k,{key:"remove",w:"x40"},e("Remove"))].filter(Boolean),[x,y,e,T]),z=s(e=>{let{emails:t,_id:a,username:n,name:l,avatarETag:r}=e;return(i.createElement(d.Row,{key:a,tabIndex:0,"qa-user-id":a},i.createElement(d.Cell,{withTruncatedText:!0},i.createElement(u,{display:"flex",alignItems:"center"},i.createElement(v,{size:T?"x28":"x40",title:n,username:n,etag:r}),i.createElement(u,{display:"flex",withTruncatedText:!0,mi:"x8"},i.createElement(u,{display:"flex",flexDirection:"column",alignSelf:"center",withTruncatedText:!0},i.createElement(u,{fontScale:"p2",withTruncatedText:!0,color:"default"},l||n),!T&&l&&i.createElement(u,{fontScale:"p1",color:"hint",withTruncatedText:!0}," ","@".concat(n)," "))))),T&&i.createElement(d.Cell,null,i.createElement(u,{fontScale:"p2",withTruncatedText:!0,color:"hint"},n)," ",i.createElement(u,{mi:"x4"})),i.createElement(d.Cell,{withTruncatedText:!0},t&&t.length&&t[0].address),i.createElement(C,{_id:a,reload:R})))},[T,R]);return t?i.createElement(w,{setParams:n,params:a,onHeaderClick:y,data:D,useQuery:b,reload:R,header:A,renderRow:z,title:e("Managers")}):i.createElement(p,null)}a.exportDefault(S)}


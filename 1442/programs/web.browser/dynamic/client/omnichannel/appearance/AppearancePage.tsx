function module(e,t,a){let n,l,s,r,c,o,i,u,m,d,p,k,E,h,g,x,f,v,C;a.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),a.link("react",{default(e){l=e}},0),a.link("@rocket.chat/fuselage",{Callout(e){s=e},ButtonGroup(e){r=e},Button(e){c=e},Icon(e){o=e},Box(e){i=e}},1),a.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){u=e}},2),a.link("../../contexts/TranslationContext",{useTranslation(e){m=e}},3),a.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){d=e}},4),a.link("../../contexts/AuthorizationContext",{usePermission(e){p=e}},5),a.link("../../contexts/ServerContext",{useMethod(e){k=e}},6),a.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){E=e},ENDPOINT_STATES(e){h=e}},7),a.link("../../hooks/useForm",{useForm(e){g=e}},8),a.link("../../components/basic/Page",{default(e){x=e}},9),a.link("./AppearanceForm",{default(e){f=e}},10),a.link("../../components/PageSkeleton",{default(e){v=e}},11),a.link("../../components/NotAuthorizedPage",{default(e){C=e}},12);const S=e=>e.reduce((e,t)=>{let{_id:a,value:l}=t;return e=n({},e,{[a]:l})},{}),b=()=>{const e=m(),{data:t,state:a,error:n}=E("livechat/appearance"),r=p("view-livechat-appearance");return r?a===h.LOADING?l.createElement(v,null):t&&t.success&&t.appearance&&!n?l.createElement(A,{settings:t.appearance}):l.createElement(x,null,l.createElement(x.Header,{title:e("Edit_Custom_Field")}),l.createElement(x.ScrollableContentWithShadow,null,l.createElement(s,{type:"danger"},e("Error")))):l.createElement(C,null)},A=e=>{let{settings:t}=e;const a=m(),n=d(),s=k("livechat:saveAppearance"),{values:p,handlers:E,commit:h,reset:v,hasUnsavedChanges:C}=g(S(t)),b=u(async()=>{const e=Object.entries(p).map(e=>{let[t,a]=e;return{_id:t,value:a}});try{await s(e),n({type:"success",message:a("Settings_updated")}),h()}catch(t){n({type:"success",message:t})}}),A=()=>{v()};return l.createElement(x,null,l.createElement(x.Header,{title:a("Appearance")},l.createElement(r,{align:"end"},l.createElement(c,{onClick:A},l.createElement(o,{size:"x16",name:"back"}),a("Back")),l.createElement(c,{primary:!0,onClick:b,disabled:!C},a("Save")))),l.createElement(x.ScrollableContentWithShadow,null,l.createElement(i,{maxWidth:"x600",w:"full",alignSelf:"center"},l.createElement(f,{values:p,handlers:E}))))};a.exportDefault(b)}


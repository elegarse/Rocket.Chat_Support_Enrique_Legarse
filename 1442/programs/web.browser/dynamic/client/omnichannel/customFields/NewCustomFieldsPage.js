function module(e,t,l){let a,s,n,i,o,r,c,u,d,m,h,k,b,p,C,v,x,f,g;l.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),l.link("react",{default(e){s=e},useCallback(e){n=e},useState(e){i=e}},0),l.link("@rocket.chat/fuselage",{Box(e){o=e},Button(e){r=e},Icon(e){c=e},FieldGroup(e){u=e},ButtonGroup(e){d=e}},1),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){m=e}},2),l.link("use-subscription",{useSubscription(e){h=e}},3),l.link("./CustomFieldsForm",{default(e){k=e}},4),l.link("../../components/basic/Page",{default(e){b=e}},5),l.link("../../contexts/TranslationContext",{useTranslation(e){p=e}},6),l.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){C=e}},7),l.link("../../contexts/ServerContext",{useMethod(e){v=e}},8),l.link("../../contexts/RouterContext",{useRoute(e){x=e}},9),l.link("../../hooks/useForm",{useForm(e){f=e}},10),l.link("../additionalForms",{formsSubscription(e){g=e}},11);const E={field:"",label:"",scope:"visitor",visibility:!0,regexp:""},F=()=>{const e=p(),t=C(),[l,F]=i({}),{useCustomFieldsAdditionalForm:S=(()=>{})}=h(g),y=S(),w=x("omnichannel-customfields"),B=n(()=>{w.push({})},[w]),{values:M,handlers:T,hasUnsavedChanges:D}=f(E),G=v("livechat:saveCustomField"),{hasError:R,data:U,hasUnsavedChanges:W}=l,_=!R&&(W||D),j=m(async()=>{try{await G(void 0,a({},M,{visibility:M.visibility?"visible":"hidden"},U)),t({type:"success",message:e("Saved")}),w.push({})}catch(l){t({type:"error",message:l})}}),z=m(e=>{F(a({},l,{},e))});return s.createElement(b,null,s.createElement(b.Header,{title:e("New_Custom_Field")},s.createElement(d,null,s.createElement(r,{onClick:B},s.createElement(c,{size:"x16",name:"back"}),e("Back")),s.createElement(r,{primary:!0,onClick:j,disabled:!_},e("Save")))),s.createElement(b.ScrollableContentWithShadow,null,s.createElement(o,{maxWidth:"x600",w:"full",alignSelf:"center"},s.createElement(u,null,s.createElement(k,{values:M,handlers:T}),y&&s.createElement(y,{onChange:z,state:M})))))};l.exportDefault(F)}


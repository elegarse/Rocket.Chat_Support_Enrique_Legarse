function module(e,t,l){let n,a,o,r,s,i,c,u,m,d,E,C,h,k,p,x,T,f,g,b;function v(e){let{_id:t,reload:l}=e;const n=b("livechat:removeCustomField"),a=f(),s=g(),u=h(),m=d(async()=>{try{await n(t)}catch(e){console.log(e)}l()}),E=d(e=>{e.stopPropagation();const t=async()=>{try{await m(),s({type:"success",message:u("Custom_Field_Removed")})}catch(e){s({type:"error",message:e})}a()};a(c.createElement(T,{onDelete:t,onCancel:()=>a()}))});return c.createElement(r.Cell,{fontScale:"p1",color:"hint",withTruncatedText:!0},c.createElement(i,{small:!0,ghost:!0,title:u("Remove"),onClick:E},c.createElement(o,{name:"trash",size:"x16"})))}l.link("@babel/runtime/helpers/extends",{default(e){n=e}},0),l.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),l.export({RemoveCustomFieldButton:()=>v,CustomFieldsTable:()=>F}),l.link("@rocket.chat/fuselage",{Icon(e){o=e},Table(e){r=e},Callout(e){s=e},Button(e){i=e}},0),l.link("react",{default(e){c=e},useState(e){u=e},memo(e){m=e}},1),l.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){d=e}},2),l.link("../../components/GenericTable",{default(e){E=e}},3),l.link("../../contexts/RouterContext",{useRoute(e){C=e}},4),l.link("../../contexts/TranslationContext",{useTranslation(e){h=e}},5),l.link("../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint(e){k=e}},6),l.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){p=e},ENDPOINT_STATES(e){x=e}},7),l.link("../DeleteWarningModal",{default(e){T=e}},8),l.link("../../contexts/ModalContext",{useSetModal(e){f=e}},9),l.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){g=e}},10),l.link("../../contexts/ServerContext",{useMethod(e){b=e}},11);const w=m((function e(t){let{medium:l,reload:n}=t,o=a(t,["medium","reload"]);const{_id:s,label:i,scope:u,visibility:m}=o,d=C("omnichannel-customfields"),E=()=>{d.push({context:"edit",id:s})},h=e=>{["Enter","Space"].includes(e.nativeEvent.code)&&E()},k=e=>{e.stopPropagation()};return c.createElement(r.Row,{key:s,role:"link",action:!0,tabIndex:0,onClick:E,onKeyDown:h},c.createElement(r.Cell,{withTruncatedText:!0},s),c.createElement(r.Cell,{withTruncatedText:!0},i),c.createElement(r.Cell,{withTruncatedText:!0},u),c.createElement(r.Cell,{withTruncatedText:!0},m),c.createElement(r.Cell,{withTruncatedText:!0,onClick:k},c.createElement(v,{_id:s,reload:n})))})),y=()=>{const e=h(),[t,l]=u(()=>({current:0,itemsPerPage:25})),{data:n,state:a,reload:o}=p("livechat/custom-fields?count=".concat(t.itemsPerPage,"&offset=").concat(t.current));return a===x.ERROR?c.createElement(s,null,e("Error"),": error"):c.createElement(F,{customFields:null==n?void 0:n.customFields,totalCustomFields:null==n?void 0:n.total,params:t,onChangeParams:l,reload:o})};function F(e){let{customFields:t,totalCustomFields:l,params:a,onChangeParams:o,reload:r}=e;const s=h(),[i,u]=k([600],200);return c.createElement(E,{ref:i,header:c.createElement(c.Fragment,null,c.createElement(E.HeaderCell,null,s("Field")),c.createElement(E.HeaderCell,null,s("Label")),c.createElement(E.HeaderCell,null,s("Scope")),c.createElement(E.HeaderCell,null,s("Visibility")),c.createElement(E.HeaderCell,{width:"x60"})),results:t,total:l,params:a,setParams:o},e=>c.createElement(w,n({key:e._id,medium:u,reload:r},e)))}l.exportDefault(y)}


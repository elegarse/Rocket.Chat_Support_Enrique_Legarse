function module(e,t,n){let l,a,r,o,s,i,c,u,m,d,g,E,k,h,x,T,p,C,f,D;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.export({TriggersTable:()=>b}),n.link("@rocket.chat/fuselage",{Table(e){a=e},Callout(e){r=e},Icon(e){o=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){s=e},Button(e){i=e}},1),n.link("react",{default(e){c=e},useState(e){u=e},memo(e){m=e},useMemo(e){d=e}},2),n.link("../../components/GenericTable",{default(e){g=e}},3),n.link("../DeleteWarningModal",{default(e){E=e}},4),n.link("../../contexts/RouterContext",{useRoute(e){k=e}},5),n.link("../../contexts/ModalContext",{useSetModal(e){h=e}},6),n.link("../../contexts/ServerContext",{useMethod(e){x=e}},7),n.link("../../contexts/TranslationContext",{useTranslation(e){T=e}},8),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){p=e}},9),n.link("../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint(e){C=e}},10),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental(e){f=e},ENDPOINT_STATES(e){D=e}},11);const v=m((function e(t){const{_id:n,name:l,description:r,enabled:u,onDelete:m}=t,d=p(),g=T(),C=h(),f=k("omnichannel-triggers"),D=x("livechat:removeTrigger"),v=s(()=>{f.push({context:"edit",id:n})}),R=s(e=>{["Enter","Space"].includes(e.nativeEvent.code)&&v()}),b=s(e=>{e.stopPropagation();const t=async()=>{try{await D(n),d({type:"success",message:g("Trigger_removed")}),m()}catch(e){d({type:"error",message:e})}C()};C(c.createElement(E,{onDelete:t,onCancel:()=>C()}))});return c.createElement(a.Row,{key:n,role:"link",action:!0,tabIndex:0,onClick:v,onKeyDown:R},c.createElement(a.Cell,{withTruncatedText:!0},l),c.createElement(a.Cell,{withTruncatedText:!0},r),c.createElement(a.Cell,{withTruncatedText:!0},g(u?"Yes":"No")),c.createElement(a.Cell,{withTruncatedText:!0},c.createElement(i,{small:!0,ghost:!0,title:g("Remove"),onClick:b},c.createElement(o,{name:"trash",size:"x16"}))))})),R=e=>{let{reloadRef:t}=e;const n=T(),[l,a]=u(()=>({current:0,itemsPerPage:25})),{current:o,itemsPerPage:s}=l,{data:i,state:m,reload:g}=f("livechat/triggers",d(()=>({offset:o,count:s}),[o,s]));return t.current=g,m===D.ERROR?c.createElement(r,null,n("Error"),": error"):c.createElement(b,{triggers:null==i?void 0:i.triggers,totalTriggers:null==i?void 0:i.total,params:l,onChangeParams:a,onDelete:g})};function b(e){let{triggers:t,totalTriggers:n,params:a,onChangeParams:r,onDelete:o}=e;const s=T(),[i,u]=C([600],200);return c.createElement(g,{ref:i,header:c.createElement(c.Fragment,null,c.createElement(g.HeaderCell,null,s("Name")),c.createElement(g.HeaderCell,null,s("Description")),c.createElement(g.HeaderCell,null,s("Enabled")),c.createElement(g.HeaderCell,{width:"x60"},s("Remove"))),results:t,total:n,params:a,setParams:r},e=>c.createElement(v,l({key:e._id,onDelete:o,medium:u},e)))}n.exportDefault(R)}


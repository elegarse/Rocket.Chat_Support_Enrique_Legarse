function module(e,t,n){let a,s,o,r,l,i,c,u,m,d,g,k,p;n.link("@babel/runtime/helpers/objectSpread2",{default(e){a=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){s=e}},1),n.link("react",{default(e){o=e}},0),n.link("@rocket.chat/fuselage",{Button(e){r=e},FieldGroup(e){l=e},ButtonGroup(e){i=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback(e){c=e}},2),n.link("./TriggersForm",{default(e){u=e}},3),n.link("../../contexts/TranslationContext",{useTranslation(e){m=e}},4),n.link("../../contexts/ServerContext",{useMethod(e){d=e}},5),n.link("../../hooks/useForm",{useForm(e){g=e}},6),n.link("../../contexts/RouterContext",{useRoute(e){k=e}},7),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){p=e}},8);const h=e=>{let{onSave:t}=e;const n=p(),h=m(),b=k("omnichannel-triggers"),v=d("livechat:saveTrigger"),{values:x,handlers:f}=g({name:"",description:"",enabled:!0,runOnce:!1,conditions:{name:"page-url",value:""},actions:{name:"",params:{sender:"queue",msg:"",name:""}}}),C=c(async()=>{try{const{actions:{params:{sender:e,msg:o,name:r}}}=x,l=s(x,["actions"]);await v(a({},l,{conditions:[x.conditions],actions:[{name:"send-message",params:a({sender:e,msg:o},"custom"===e&&{name:r})}]})),n({type:"success",message:h("Saved")}),t(),b.push({})}catch(e){n({type:"error",message:e})}});return o.createElement(o.Fragment,null,o.createElement(l,null,o.createElement(u,{values:x,handlers:f})),o.createElement(i,{align:"end"},o.createElement(r,{primary:!0,onClick:C},h("Save"))))};n.exportDefault(h)}


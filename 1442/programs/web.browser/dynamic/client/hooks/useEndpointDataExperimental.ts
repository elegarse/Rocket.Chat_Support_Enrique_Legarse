function module(t,e,n){let a,s,r,o;var l;n.export({ENDPOINT_STATES:()=>l,useEndpointDataExperimental:()=>d}),n.link("react",{useEffect(t){a=t},useState(t){s=t}},0),n.link("../contexts/ServerContext",{useEndpoint(t){r=t}},1),n.link("../contexts/ToastMessagesContext",{useToastMessageDispatch(t){o=t}},2),function(t){t.LOADING="LOADING",t.DONE="DONE",t.ERROR="ERROR"}(l||n.runSetters(l={}));const u={data:null,state:l.LOADING},i={},c={},d=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,{delayTimeout:n=1e3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;const[d,E]=s(u),O=r("GET",t),D=o();return a(()=>{let t=!0;const a=async()=>{const s=setTimeout(()=>{t&&E({data:null,delaying:!0,state:l.LOADING,reload:a})},n);try{E(u);const n=await O(e);if(!t)return;if(!n.success)throw new Error(n.status);E({data:n,state:l.DONE,reload:a})}catch(r){if(!t)return;E({data:null,error:r,state:l.ERROR,reload:a}),D({type:"error",message:r})}finally{clearTimeout(s)}};return a(),()=>{t=!1}},[n,D,O,e]),d}}


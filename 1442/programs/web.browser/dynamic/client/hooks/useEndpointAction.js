function module(e,t,s){let n,r,c;s.export({useEndpointAction:()=>o,useEndpointActionExperimental:()=>a}),s.link("react",{useCallback(e){n=e}},0),s.link("../contexts/ServerContext",{useEndpoint(e){r=e}},1),s.link("../contexts/ToastMessagesContext",{useToastMessageDispatch(e){c=e}},2);const o=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;const a=r(e,t),u=c();return n((async function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=await a(s,...t);if(!r.success)throw new Error(r.status);return o&&u({type:"success",message:o}),r}catch(r){return u({type:"error",message:r}),{success:!1}}}),[u,s,a,o])},a=(e,t,s)=>{const o=r(e,t),a=c();return n((async function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const c=await o(e,...n);if(!c.success)throw new Error(c.status);return s&&a({type:"success",message:s}),c}catch(c){return a({type:"error",message:c}),{success:!1}}}),[a,o,s])}}


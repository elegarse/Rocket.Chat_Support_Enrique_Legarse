function module(e,t,i){let n,o,c,s,r,l,a,u,d,g,v,S,h;i.link("@babel/runtime/helpers/objectSpread2",{default(e){n=e}},0),i.link("meteor/tracker",{Tracker(e){o=e}},0),i.link("react",{default(e){c=e},useCallback(e){s=e},useEffect(e){r=e},useMemo(e){l=e},useState(e){a=e}},1),i.link("../contexts/ServerContext",{useMethod(e){u=e}},2),i.link("../contexts/SettingsContext",{SettingsContext(e){d=e}},3),i.link("../lib/settings/PrivateSettingsCachedCollection",{PrivateSettingsCachedCollection(e){g=e}},4),i.link("../lib/settings/PublicSettingsCachedCollection",{PublicSettingsCachedCollection(e){v=e}},5),i.link("../contexts/AuthorizationContext",{useAtLeastOnePermission(e){S=e}},6),i.link("./createReactiveSubscriptionFactory",{createReactiveSubscriptionFactory(e){h=e}},7);const C=e=>{let{children:t,privileged:i=!1}=e;const C=S(l(()=>["view-privileged-setting","edit-privileged-setting","manage-selected-settings"],[])),k=i&&C,p=l(()=>k?g.get():v.get(),[k]),[b,f]=a(()=>o.nonreactive(()=>!p.ready.get()));r(()=>{let e=!0;const t=async()=>{o.nonreactive(()=>p.ready.get())||await p.init(),e&&f(!1)};return t(),()=>{e=!1}},[p]);const x=l(()=>h(e=>n({},p.collection.findOne(e))),[p]),m=l(()=>h((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p.collection.find(n({},"_id"in e&&{_id:{$in:e._id}},{},"group"in e&&{group:e.group},{},"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:null}]})),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()})),[p]),y=u("saveSettings"),P=s(e=>y(e),[y]),A=l(()=>({hasPrivateAccess:k,isLoading:b,querySetting:x,querySettings:m,dispatch:P}),[k,b,x,m,P]);return c.createElement(d.Provider,{children:t,value:A})};i.exportDefault(C)}


function module(t,e,n){let r,a,c,l,o,u,s;n.link("@rocket.chat/fuselage",{Icon(t){r=t}},0),n.link("react",{default(t){a=t},useEffect(t){c=t},useRef(t){l=t},useState(t){o=t}},1),n.link("../../contexts/ConnectionStatusContext",{useConnectionStatus(t){u=t}},2),n.link("../../contexts/TranslationContext",{useTranslation(t){s=t}},3),n.link("./ConnectionStatusAlert.css");const i=t=>{const e=t-Date.now();return e>0&&Math.round(e/1e3)||0},m=(t,e)=>{const n=l(),[r,a]=o(()=>i(t));return c(()=>{if("waiting"!==e)clearInterval(n.current),n.current=null;else{if(n.current)return;n.current=setInterval(()=>{a(i(t))},500)}},[t,e]),c(()=>()=>{clearInterval(n.current)},[]),r};function f(){const{connected:t,retryTime:e,status:n,reconnect:c}=u(),l=m(e,n),o=s();if(t)return null;const i=t=>{t.preventDefault(),c&&c()};return(a.createElement("div",{className:"ConnectionStatusAlert",role:"alert"},a.createElement("strong",null,a.createElement(r,{name:"warning"})," ",o("meteor_status",{context:n})),"waiting"===n&&a.createElement(a.Fragment,null," ",o("meteor_status_reconnect_in",{count:l})),["waiting","offline"].includes(n)&&a.createElement(a.Fragment,null," ",a.createElement("a",{className:"ConnectionStatusAlert__retry-link",href:"#",onClick:i},o("meteor_status_try_now",{context:n})))))}n.exportDefault(f)}


function module(e,t,n){let o,r,u,l,a,c,s;n.export({ServerContext:()=>d,useServerInformation:()=>i,useAbsoluteUrl:()=>f,useMethod:()=>v,useEndpoint:()=>h,useUpload:()=>E,useStream:()=>p,AsyncState:()=>g,useMethodData:()=>S,usePolledMethodData:()=>A}),n.link("react",{createContext(e){o=e},useCallback(e){r=e},useContext(e){u=e},useMemo(e){l=e},useState(e){a=e},useEffect(e){c=e},useRef(e){s=e}},0);const d=o({info:{},absoluteUrl:e=>e,callMethod:async()=>void 0,callEndpoint:async()=>void 0,uploadToEndpoint:async()=>void 0,getStream:()=>({on:()=>void 0,off:()=>void 0})}),i=()=>u(d).info,f=()=>u(d).absoluteUrl,v=e=>{const{callMethod:t}=u(d);return r((function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t(e,...o)}),[t,e])},h=(e,t)=>{const{callEndpoint:n}=u(d);return r((function(){for(var o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return n(e,t,...r)}),[n,e,t])},E=e=>{const{uploadToEndpoint:t}=u(d);return r((n,o)=>t(e,n,o),[e,t])},p=(e,t)=>{const{getStream:n}=u(d);return l(()=>n(e,t),[n,e,t])};var g;!function(e){e.LOADING="loading",e.DONE="done",e.ERROR="error"}(g||n.runSetters(g={}));const S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=v(e),[[o,u],l]=a([null,g.LOADING]),d=s(!0);c(()=>()=>{d.current=!1},[]);const i=r(()=>{l(e=>{let[t]=e;return[t,g.LOADING]}),n(...t).then(e=>{d.current&&l([e,g.DONE])}).catch(e=>{d.current&&(l(e=>{let[t]=e;return[t,g.ERROR]}),console.error(e))})},[n,t]);return c(()=>{i()},[i]),[o,u,i]},A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;const[o,r,u]=S(e,t);return c(()=>{const e=setInterval(()=>{u()},n);return()=>{clearInterval(e)}},[u,n]),[o,r,u]}}


function module(e,t,n){let l,a,r,o,s,i,c,m,u,d,f,k,h,p,x,E,y,C,g,w,v,b,T,S,M,A;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.export({default:()=>R}),n.link("@rocket.chat/fuselage",{Box(e){r=e},Margins(e){o=e},Table(e){s=e},Avatar(e){i=e},Tag(e){c=e},Icon(e){m=e},TextInput(e){u=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMediaQuery(e){d=e}},1),n.link("react",{default(e){f=e},useMemo(e){k=e},useState(e){h=e},useCallback(e){p=e},useEffect(e){x=e}},2),n.link("../../components/GenericTable",{GenericTable(e){E=e},Th(e){y=e}},3),n.link("../../components/basic/MarkdownText",{default(e){C=e}},4),n.link("../../components/NotAuthorizedPage",{default(e){g=e}},5),n.link("../../contexts/TranslationContext",{useTranslation(e){w=e}},6),n.link("../../contexts/AuthorizationContext",{usePermission(e){v=e}},7),n.link("../../contexts/RouterContext",{useRoute(e){b=e}},8),n.link("../../hooks/useEndpointData",{useEndpointData(e){T=e}},9),n.link("../../hooks/useFormatDate",{useFormatDate(e){S=e}},10),n.link("../../../app/utils/client",{roomTypes(e){M=e}},11),n.link("./hooks",{useQuery(e){A=e}},12);const P={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"};function D(e){let{room:t}=e;const n=w();return(f.createElement(r,{mi:"x4",alignItems:"center",display:"flex"},f.createElement(o,{inline:"x2"},t.default&&f.createElement(c,{variant:"primary"},n("default")),t.featured&&f.createElement(c,{variant:"primary"},n("featured")))))}const I=e=>{let{setFilter:t}=e,n=a(e,["setFilter"]);const o=w(),[s,i]=h(""),c=p(e=>i(e.currentTarget.value),[]);return x(()=>{t({text:s})},[t,s]),f.createElement(r,l({flexShrink:0,mb:"x16",is:"form",display:"flex",flexDirection:"column"},n),f.createElement(u,{flexShrink:0,placeholder:o("Search_Channels"),addon:f.createElement(m,{name:"magnifier",size:"x20"}),onChange:c,value:s}))};function F(){const e=w(),[t,n]=h(["name","asc"]),[l,a]=h({current:0,itemsPerPage:25}),o=d("(min-width: 768px)"),c=A(l,t,"channels"),u=p(e=>{const[l,a]=t;n(l!==e?[e,"asc"]:[e,"asc"===a?"desc":"asc"])},[t]),x=k(()=>[f.createElement(y,{key:"name",direction:t[1],active:"name"===t[0],onClick:u,sort:"name"},e("Name")),f.createElement(y,{key:"usersCount",direction:t[1],active:"usersCount"===t[0],onClick:u,sort:"usersCount",style:{width:"100px"}},e("Users")),o&&f.createElement(y,{key:"createdAt",direction:t[1],active:"createdAt"===t[0],onClick:u,sort:"createdAt",style:{width:"150px"}},e("Created_at")),o&&f.createElement(y,{key:"lastMessage",direction:t[1],active:"lastMessage"===t[0],onClick:u,sort:"lastMessage",style:{width:"150px"}},e("Last_Message"))].filter(Boolean),[t,u,e,o]),g=b("channel"),v=T("directory",c)||{result:[]},F=k(()=>e=>t=>{"click"!==t.type&&"Enter"!==t.key||g.push({name:e})},[g]),R=S(),z=p(e=>{const{_id:t,ts:n,t:l,name:a,fname:c,usersCount:u,lastMessage:d,topic:k}=e,h=M.getConfig(l).getAvatarPath(e);return f.createElement(s.Row,{key:t,onKeyDown:F(a),onClick:F(a),tabIndex:0,role:"link",action:!0},f.createElement(s.Cell,null,f.createElement(r,{display:"flex"},f.createElement(i,{size:"x40",title:c||a,url:h,flexGrow:0}),f.createElement(r,{grow:1,mi:"x8",style:P},f.createElement(r,{display:"flex",alignItems:"center"},f.createElement(m,{name:M.getIcon(e),color:"hint"})," ",f.createElement(r,{fontScale:"p2",mi:"x4"},c||a),f.createElement(D,{room:e,style:P})),k&&f.createElement(C,{fontScale:"p1",color:"hint",style:P,withRichContent:!1,content:k})))),f.createElement(s.Cell,{fontScale:"p1",color:"hint",style:P},u),o&&f.createElement(s.Cell,{fontScale:"p1",color:"hint",style:P},R(n)),o&&f.createElement(s.Cell,{fontScale:"p1",color:"hint",style:P},d&&R(d.ts)))},[R,o,F]);return f.createElement(E,{FilterComponent:I,header:x,renderRow:z,results:v.result,total:v.total,setParams:a})}function R(e){const t=v("view-c-room");return t?f.createElement(F,e):f.createElement(g,null)}}


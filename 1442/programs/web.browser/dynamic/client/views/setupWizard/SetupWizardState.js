function module(e,t,n){let r,o,s,a,i,u,c,l,S,d,p,g;n.export({finalStep:()=>x,useSetupWizardContext:()=>R}),n.link("react",{default(e){r=e},createContext(e){o=e},useContext(e){s=e},useEffect(e){a=e},useState(e){i=e},useCallback(e){u=e},useMemo(e){c=e}},0),n.link("../../contexts/RouterContext",{useRouteParameter(e){l=e},useRoute(e){S=e}},1),n.link("../../contexts/ServerContext",{useMethod(e){d=e}},2),n.link("../../contexts/UserContext",{useUserId(e){p=e}},3),n.link("./SetupWizardPage",{default(e){g=e}},4);const x="final",f=()=>{const e=l("step"),t=p(),n=S("setup-wizard"),[r,o]=i(()=>{if(e===x)return x;const t=parseInt(e,10);return Number.isFinite(t)&&t>=1?t:1});return a(()=>{t?1===r&&o(2):o(1),n.replace({step:String(r)})},[n,t,r]),[r,o]},v=()=>{const[e,t]=i(!1),[n,r]=i([]),[o,s]=i(!1),u=d("getSetupWizardParameters");return a(()=>{let e=!0;const n=async()=>{try{const{settings:n=[],allowStandaloneServer:o=!1}=await u()||{};if(!e)return;t(!0),r(n),s(o)}catch(n){t(!1),r([]),s(!1)}};return n(),()=>{e=!1}},[u]),{loaded:e,settings:n,canDeclineServerRegistration:o}},m=o({loaded:!1,settings:[],canDeclineServerRegistration:!1,goToPreviousStep:()=>{},goToNextStep:()=>{},goToFinalStep:()=>{}});function C(){const[e,t]=f(),{loaded:n,settings:o,canDeclineServerRegistration:s}=v(),a=u(()=>t(e=>e-1),[]),i=u(()=>t(e=>e+1),[]),l=u(()=>t(x),[]),S=c(()=>({currentStep:e,loaded:n,settings:o,canDeclineServerRegistration:s,goToPreviousStep:a,goToNextStep:i,goToFinalStep:l}),[e,n,o,s,a,i,l]);return r.createElement(m.Provider,{value:S},r.createElement(g,{currentStep:e}))}const R=()=>s(m);n.exportDefault(C)}


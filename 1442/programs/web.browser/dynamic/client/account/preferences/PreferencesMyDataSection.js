function module(e,t,n){let l,a,o,r,s,c,i,d,u,m,x,E,p,D,C,_;n.link("@babel/runtime/helpers/extends",{default(e){l=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default(e){a=e}},1),n.link("react",{default(e){o=e},useCallback(e){r=e}},0),n.link("@rocket.chat/fuselage",{Accordion(e){s=e},Field(e){c=e},FieldGroup(e){i=e},ButtonGroup(e){d=e},Button(e){u=e},Icon(e){m=e},Box(e){x=e},Modal(e){E=e}},1),n.link("../../contexts/TranslationContext",{useTranslation(e){p=e}},2),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){D=e}},3),n.link("../../contexts/ServerContext",{useMethod(e){C=e}},4),n.link("../../contexts/ModalContext",{useSetModal(e){_=e}},5);const k=e=>{let{onCancel:t,title:n,text:l}=e,r=a(e,["onCancel","title","text"]);const s=p();return(o.createElement(E,r,o.createElement(E.Header,null,o.createElement(m,{color:"success",name:"circle-check",size:20}),o.createElement(E.Title,null,n),o.createElement(E.Close,{onClick:t})),o.createElement(E.Content,{fontScale:"p1"},o.createElement(x,{mb:"x8"},l)),o.createElement(E.Footer,null,o.createElement(d,{align:"end"},o.createElement(u,{primary:!0,onClick:t},s("Ok"))))))},w=e=>{let{onChange:t}=e,n=a(e,["onChange"]);const E=p(),w=_(),f=C("requestDataDownload"),h=D(),g=r(()=>w(null),[w]),q=r(async e=>{try{const t=await f({fullExport:e});if(t.requested)return void w(o.createElement(k,{title:E("UserDataDownload_Requested"),text:E("UserDataDownload_Requested_Text",{pending_operations:t.pendingOperationsBeforeMyRequest}),onCancel:g}));if(t.exportOperation){if("completed"===t.exportOperation.status){const e=t.url?E("UserDataDownload_CompletedRequestExistedWithLink_Text",{download_link:t.url}):E("UserDataDownload_CompletedRequestExisted_Text");return void w(o.createElement(k,{title:E("UserDataDownload_Requested"),text:o.createElement(x,{dangerouslySetInnerHTML:{__html:e}}),onCancel:g}))}return void w(o.createElement(k,{title:E("UserDataDownload_Requested"),text:E("UserDataDownload_RequestExisted_Text",{pending_operations:t.pendingOperationsBeforeMyRequest}),onCancel:g}))}w(o.createElement(k,{title:E("UserDataDownload_Requested"),onCancel:g}))}catch(t){h({type:"error",message:t})}},[g,h,f,w,E]),M=r(()=>q(!1),[q]),R=r(()=>q(!0),[q]);return o.createElement(s.Item,l({title:E("My Data")},n),o.createElement(i,null,o.createElement(c,null,o.createElement(c.Row,null,o.createElement(d,{stretch:!0,flexGrow:1},o.createElement(u,{onClick:M},o.createElement(m,{name:"download",size:20}),E("Download_My_Data")),o.createElement(u,{onClick:R},o.createElement(m,{name:"download",size:20}),E("Export_My_Data")))))))};n.exportDefault(w)}


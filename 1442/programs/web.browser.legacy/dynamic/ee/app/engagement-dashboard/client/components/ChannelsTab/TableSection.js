function module(e,t,n){var l,a,r,c,o,s,u,i,m,d,f,E,h,g,C,p,y,k,_;n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},0),n.export({TableSection:function(){return w}}),n.link("@rocket.chat/fuselage",{Box:function(e){a=e},Icon:function(e){r=e},Margins:function(e){c=e},Pagination:function(e){o=e},Select:function(e){s=e},Skeleton:function(e){u=e},Table:function(e){i=e},Tile:function(e){m=e}},0),n.link("moment",{default:function(e){d=e}},1),n.link("react",{default:function(e){f=e},useMemo:function(e){E=e},useState:function(e){h=e}},2),n.link("../../../../../../client/contexts/TranslationContext",{useTranslation:function(e){g=e}},3),n.link("../../../../../../client/hooks/useEndpointData",{useEndpointData:function(e){C=e}},4),n.link("../../../../../../client/components/data/Growth",{default:function(e){p=e}},5),n.link("../Section",{Section:function(e){y=e}},6),n.link("../../../../../../client/components/basic/Buttons/ActionButton",{ActionButton:function(e){k=e}},7),n.link("../../../../../../client/lib/saveFile",{saveFile:function(e){_=e}},8);var b=function(e){return"// type, name, messagesCount, updatedAt, createdAt\n"+e.map((function(e){var t=e.createdAt,n=e.messagesCount,l=e.name,a,r;return e.t+", "+l+", "+n+", "+e.updatedAt+", "+t})).join("\n")};function w(){var e=g(),t=E((function(){return[["last 7 days",e("Last_7_days")],["last 30 days",e("Last_30_days")],["last 90 days",e("Last_90_days")]]}),[e]),n=h("last 7 days"),w=l(n,2),A=w[0],S=w[1],v=E((function(){switch(A){case"last 7 days":return{start:d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(7,"days"),end:d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1)};case"last 30 days":return{start:d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(30,"days"),end:d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1)};case"last 90 days":return{start:d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(90,"days"),end:d().set({hour:0,minute:0,second:0,millisecond:0}).subtract(1)}}}),[A]),L=function(e){return S(e)},P=h(0),x=l(P,2),I=x[0],T=x[1],B=h(25),F=l(B,2),M=F[0],R=F[1],D=E((function(){return{start:v.start.toISOString(),end:v.end.toISOString(),offset:I,count:M}}),[v,I,M]),j=C("engagement-dashboard/channels/list",D),O=E((function(){if(j)return j.channels.map((function(e){var t=e.room,n=t.t,l=t.name,a=t.usernames,r=t.ts,c=t._updatedAt,o=e.messages,s=e.diffFromLastWeek;return{t:n,name:l||a.join(" Ã— "),createdAt:r,updatedAt:c,messagesCount:o,messagesVariation:s}}))}),[j]),V=function(){_(b(O),"Channels_start_"+D.start+"_end_"+D.end+".csv")};return f.createElement(y,{filter:f.createElement(f.Fragment,null,f.createElement(s,{options:t,value:A,onChange:L}),f.createElement(k,{mis:"x16",disabled:!O,onClick:V,"aria-label":e("Download_Info"),icon:"download"}))},f.createElement(a,null,O&&!O.length&&f.createElement(m,{fontScale:"p1",color:"info",style:{textAlign:"center"}},e("No_data_found")),(!O||O.length)&&f.createElement(i,null,f.createElement(i.Head,null,f.createElement(i.Row,null,f.createElement(i.Cell,null,"#"),f.createElement(i.Cell,null,e("Channel")),f.createElement(i.Cell,null,e("Created")),f.createElement(i.Cell,null,e("Last_active")),f.createElement(i.Cell,null,e("Messages_sent")))),f.createElement(i.Body,null,O&&O.map((function(e,t){var n=e.t,l=e.name,a=e.createdAt,o=e.updatedAt,s=e.messagesCount,u=e.messagesVariation;return(f.createElement(i.Row,{key:t},f.createElement(i.Cell,null,t+1,"."),f.createElement(i.Cell,null,f.createElement(c,{inlineEnd:"x4"},"d"===n&&f.createElement(r,{name:"at"})||"c"===n&&f.createElement(r,{name:"lock"})||"p"===n&&f.createElement(r,{name:"hashtag"})),l),f.createElement(i.Cell,null,d(a).format("L")),f.createElement(i.Cell,null,d(o).format("L")),f.createElement(i.Cell,null,s," ",f.createElement(p,null,u))))})),!O&&Array.from({length:5},(function(e,t){return f.createElement(i.Row,{key:t},f.createElement(i.Cell,null,f.createElement(u,{width:"100%"})),f.createElement(i.Cell,null,f.createElement(u,{width:"100%"})),f.createElement(i.Cell,null,f.createElement(u,{width:"100%"})),f.createElement(i.Cell,null,f.createElement(u,{width:"100%"})),f.createElement(i.Cell,null,f.createElement(u,{width:"100%"})))})))),f.createElement(o,{current:I,itemsPerPage:M,itemsPerPageLabel:function(){return e("Items_per_page:")},showingResultsLabel:function(t){var n=t.count,l=t.current,a=t.itemsPerPage;return e("Showing results %s - %s of %s",l+1,Math.min(l+a,n),n)},count:j&&j.total||0,onSetItemsPerPage:R,onSetCurrent:T})))}}


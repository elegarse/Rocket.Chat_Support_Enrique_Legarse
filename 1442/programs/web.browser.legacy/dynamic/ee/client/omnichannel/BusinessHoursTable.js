function module(e,n,t){var r,o,a,l,u,i,c,s,f,m,d,p,x,h,E,k,v,b,C,T,g,H,w,y,P,D;function R(e){var n=e._id,t=e.type,r=e.reload,o=D("livechat:removeBusinessHour"),a=y(),i=P(),c=C(),s=d(function(){function e(){return l.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.awrap(o(n,t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:r();case 9:case"end":return e.stop()}}return e}(),null,null,[[0,5]],Promise)}return e}()),x=d((function(e){e.stopPropagation();var n=function(){function e(){return l.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.awrap(s());case 3:i({type:"success",message:c("Business_Hour_Removed")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:"error",message:e.t0});case 9:a();case 10:case"end":return e.stop()}}return e}(),null,null,[[0,6]],Promise)}return e}();a(p.createElement(w,{onDelete:n,onCancel:function(){return a()}}))}));return p.createElement(u.Cell,{fontScale:"p1",color:"hint",onClick:x,withTruncatedText:!0},p.createElement(m,{small:!0,ghost:!0,title:c("Remove"),onClick:x},p.createElement(f,{name:"trash",size:"x16"})))}t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},2),t.link("@babel/runtime/regenerator",{default:function(e){l=e}},3),t.export({RemoveBusinessHourButton:function(){return R},BusinessHoursTable:function(){return M}}),t.link("@rocket.chat/fuselage",{Table:function(e){u=e},Callout:function(e){i=e},Box:function(e){c=e},TextInput:function(e){s=e},Icon:function(e){f=e},Button:function(e){m=e}},0),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){d=e}},1),t.link("react",{default:function(e){p=e},useState:function(e){x=e},memo:function(e){h=e},useMemo:function(e){E=e},useEffect:function(e){k=e}},2),t.link("../../../client/components/GenericTable",{default:function(e){v=e}},3),t.link("../../../client/contexts/RouterContext",{useRoute:function(e){b=e}},4),t.link("../../../client/contexts/TranslationContext",{useTranslation:function(e){C=e}},5),t.link("../../../client/hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){T=e}},6),t.link("../../../client/hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){g=e},ENDPOINT_STATES:function(e){H=e}},7),t.link("../../../client/omnichannel/DeleteWarningModal",{default:function(e){w=e}},8),t.link("../../../client/contexts/ModalContext",{useSetModal:function(e){y=e}},9),t.link("../../../client/contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){P=e}},10),t.link("../../../client/contexts/ServerContext",{useMethod:function(e){D=e}},11);var B=h((function(e){var n=e.setFilter,t=a(e,["setFilter"]),l=C(),u=x(""),i=o(u,2),m=i[0],h=i[1],E=d((function(e){return h(e.currentTarget.value)}),[]);return k((function(){n({text:m})}),[n,m]),p.createElement(c,r({mb:"x16",is:"form",onSubmit:d((function(e){return e.preventDefault()}),[]),display:"flex",flexDirection:"column"},t),p.createElement(s,{placeholder:l("Search_Apps"),addon:p.createElement(f,{name:"magnifier",size:"x20"}),onChange:E,value:m}))})),S=h(function(){function e(e){var n=e._id,t=e.name,r=e.timezone,o=e.workHours,a=e.active,l=e.type,i=e.reload,c=C(),s=b("omnichannel-businessHours"),f=function(){s.push({context:"edit",type:l,id:n})},m=function(e){["Enter","Space"].includes(e.nativeEvent.code)&&f()},d=E((function(){return o.reduce((function(e,n){return n.open&&e.push(c(n.day)),e}),[])}),[c,o]),x=function(e){e.stopPropagation()};return p.createElement(u.Row,{key:n,role:"link",action:!0,tabIndex:0,onClick:f,onKeyDown:m},p.createElement(u.Cell,{withTruncatedText:!0},t||c("Default")),p.createElement(u.Cell,{withTruncatedText:!0},c(r.name)),p.createElement(u.Cell,{withTruncatedText:!0},d.join(", ")),p.createElement(u.Cell,{withTruncatedText:!0},c(a?"Yes":"No")),t&&p.createElement(u.Cell,{withTruncatedText:!0,onClick:x},p.createElement(R,{_id:n,reload:i,type:l})))}return e}()),_=function(){var e=C(),n=x((function(){return{current:0,itemsPerPage:25,text:""}})),t=o(n,2),r=t[0],a=t[1],l=g("livechat/business-hours.list?count="+r.itemsPerPage+"&offset="+r.current+"&name="+r.text),u=l.data,c=l.state,s=l.reload;return c===H.ERROR?p.createElement(i,null,e("Error"),": error"):p.createElement(M,{businessHours:null==u?void 0:u.businessHours,totalbusinessHours:null==u?void 0:u.total,params:r,onChangeParams:a,reload:s})};function M(e){var n=e.businessHours,t=e.totalbusinessHours,a=e.params,l=e.onChangeParams,u=e.reload,i=C(),c=T([600],200),s=o(c,2),f=s[0],m=s[1];return p.createElement(v,{ref:f,header:p.createElement(p.Fragment,null,p.createElement(v.HeaderCell,null,i("Name")),p.createElement(v.HeaderCell,null,i("Timezone")),p.createElement(v.HeaderCell,null,i("Open_Days")),p.createElement(v.HeaderCell,{width:"x100"},i("Enabled")),p.createElement(v.HeaderCell,{width:"x100"},i("Remove"))),results:n,total:t,params:a,setParams:l,FilterComponent:B},(function(e){return p.createElement(S,r({key:e._id,medium:m,reload:u},e))}))}t.exportDefault(_)}


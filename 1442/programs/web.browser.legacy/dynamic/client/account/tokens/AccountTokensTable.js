function module(e,n,t){var r,o,a,c,s,l,u,i,m,f,k,T,d,_,x,p,A,h,E,C,P,v;t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),t.export({AccountTokensTable:function(){return I}}),t.link("@rocket.chat/fuselage",{Table:function(e){c=e},Button:function(e){s=e},ButtonGroup:function(e){l=e},Icon:function(e){u=e},Box:function(e){i=e}},0),t.link("react",{default:function(e){m=e},useMemo:function(e){f=e},useCallback:function(e){k=e},useState:function(e){T=e}},1),t.link("../../components/GenericTable",{GenericTable:function(e){d=e},Th:function(e){_=e}},2),t.link("../../contexts/ModalContext",{useSetModal:function(e){x=e}},3),t.link("../../contexts/ServerContext",{useMethod:function(e){p=e}},4),t.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){A=e}},5),t.link("../../contexts/TranslationContext",{useTranslation:function(e){h=e}},6),t.link("../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){E=e}},7),t.link("../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){C=e}},8),t.link("./InfoModal",{default:function(e){P=e}},9),t.link("../../contexts/UserContext",{useUserId:function(e){v=e}},10);var g=function(e){var n=e.lastTokenPart,t=e.name,r=e.createdAt,o=e.bypassTwoFactor,a=e.formatDateAndTime,i=e.onRegenerate,f=e.onRemove,T=e.t,d=e.isMedium,_=k((function(){return i(t)}),[t,i]),x=k((function(){return f(t)}),[t,f]);return m.createElement(c.Row,{key:t,tabIndex:0,role:"link",action:!0,"qa-token-name":t},m.createElement(c.Cell,{withTruncatedText:!0,color:"default",fontScale:"p2"},t),d&&m.createElement(c.Cell,{withTruncatedText:!0},a(r)),m.createElement(c.Cell,{withTruncatedText:!0},"...",n),m.createElement(c.Cell,{withTruncatedText:!0},T(o?"Ignore":"Require")),m.createElement(c.Cell,{withTruncatedText:!0},m.createElement(l,null,m.createElement(s,{onClick:_,small:!0},m.createElement(u,{name:"refresh",size:"x16"})),m.createElement(s,{onClick:x,small:!0},m.createElement(u,{name:"trash",size:"x16"})))))};function I(e){var n=e.data,t=e.reload,c=h(),s=C(),l=A(),u=x(),I=v(),y=p("personalAccessTokens:regenerateToken"),b=p("personalAccessTokens:removeToken"),w=E([600],200),M=a(w,2),R=M[0],B=M[1],D=T({current:0,itemsPerPage:25}),G=a(D,2),S=G[0],z=G[1],F=n&&n.success?n.tokens.length:0,N=S.current,U=S.itemsPerPage,q=f((function(){if(!n)return null;if(!n.success)return[];var e=N>F?F-U:N;return n.tokens.slice(e,e+U)}),[N,n,U,F]),L=k((function(){return u(null)}),[u]),H=f((function(){return[m.createElement(_,{key:"name"},c("API_Personal_Access_Token_Name")),B&&m.createElement(_,{key:"createdAt"},c("Created_at")),m.createElement(_,{key:"lastTokenPart"},c("Last_token_part")),m.createElement(_,{key:"2fa"},c("Two Factor Authentication")),m.createElement(_,{key:"actions"})].filter(Boolean)}),[B,c]),Y=k((function(e){var n=function(){function n(){var n;return o.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.awrap(y({tokenName:e}));case 3:n=r.sent,u(m.createElement(P,{title:c("API_Personal_Access_Token_Generated"),content:m.createElement(i,{dangerouslySetInnerHTML:{__html:c("API_Personal_Access_Token_Generated_Text_Token_s_UserId_s",{token:n,userId:I})}}),confirmText:c("ok"),onConfirm:L})),t(),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),l({type:"error",message:r.t0});case 11:case"end":return r.stop()}}return r}(),null,null,[[0,8]],Promise)}return n}();u(m.createElement(P,{title:c("Are_you_sure"),content:c("API_Personal_Access_Tokens_Regenerate_Modal"),confirmText:c("API_Personal_Access_Tokens_Regenerate_It"),onConfirm:n,cancelText:c("Cancel"),onClose:L}))}),[L,l,y,t,u,c,I]),j=k((function(e){var n=function(){function n(){return o.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.awrap(b({tokenName:e}));case 3:l({type:"success",message:c("Removed")}),t(),L(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),l({type:"error",message:n.t0});case 11:case"end":return n.stop()}}return n}(),null,null,[[0,8]],Promise)}return n}();u(m.createElement(P,{title:c("Are_you_sure"),content:c("API_Personal_Access_Tokens_Remove_Modal"),confirmText:c("Yes"),onConfirm:n,cancelText:c("Cancel"),onClose:L}))}),[L,l,t,b,u,c]);return m.createElement(d,{ref:R,header:H,results:q,total:F,setParams:z,params:S},k((function(e){return m.createElement(g,r({onRegenerate:Y,onRemove:j,t:c,formatDateAndTime:s,isMedium:B},e))}),[s,B,Y,j,c]))}t.exportDefault(I)}


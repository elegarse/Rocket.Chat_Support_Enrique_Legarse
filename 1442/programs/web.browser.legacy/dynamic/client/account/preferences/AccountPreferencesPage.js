function module(e,n,t){var a,i,r,c,l,o,s,u,f,g,h,d,k,m,S,p,E,v,x,b,C,A,P;t.link("@babel/runtime/regenerator",{default:function(e){a=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},1),t.link("react",{default:function(e){r=e},useState:function(e){c=e},useCallback:function(e){l=e},useRef:function(e){o=e}},0),t.link("@rocket.chat/fuselage",{ButtonGroup:function(e){s=e},Button:function(e){u=e},Box:function(e){f=e},Accordion:function(e){g=e}},1),t.link("../../contexts/TranslationContext",{useTranslation:function(e){h=e}},2),t.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){d=e}},3),t.link("../../contexts/SettingsContext",{useSetting:function(e){k=e}},4),t.link("../../contexts/ServerContext",{useMethod:function(e){m=e}},5),t.link("../../components/basic/Page",{default:function(e){S=e}},6),t.link("./PreferencesLocalizationSection",{default:function(e){p=e}},7),t.link("./PreferencesUserPresenceSection",{default:function(e){E=e}},8),t.link("./PreferencesNotificationsSection",{default:function(e){v=e}},9),t.link("./PreferencesMessagesSection",{default:function(e){x=e}},10),t.link("./PreferencesHighlightsSection",{default:function(e){b=e}},11),t.link("./PreferencesSoundSection",{default:function(e){C=e}},12),t.link("./PreferencesMyDataSection",{default:function(e){A=e}},13),t.link("./PreferencesGlobalSection",{default:function(e){P=e}},14);var y=function(){var e=h(),n=d(),t=c(!1),y=i(t,2),L=y[0],w=y[1],D=o({}),M=k("UserData_EnableDownload"),O=l((function(e){var n=e.initialValue,t=e.value,a=e.key,i=D.current;JSON.stringify(n)!==JSON.stringify(t)?i[a]=t:delete i[a];var r=!!Object.values(i).length;r!==L&&w(r)}),[L]),T=m("saveUserPreferences"),B=l(function(){function t(){var t,r;return a.async(function(){function c(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,(t=D.current).highlights&&t.highlights.length>0&&Object.assign(t,{highlights:t.highlights.split(/,|\n/).map((function(e){return e.trim()})).filter(Boolean)}),t.dontAskAgainList&&(r=Array.isArray(t.dontAskAgainList)&&t.dontAskAgainList.length>0?t.dontAskAgainList.map((function(e){var n=i(e,2),t,a;return{action:n[0],label:n[1]}})):[],Object.assign(t,{dontAskAgainList:r})),c.next=6,a.awrap(T(t));case 6:D.current={},w(!1),n({type:"success",message:e("Preferences_saved")}),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),n({type:"error",message:c.t0});case 14:case"end":return c.stop()}}return c}(),null,null,[[0,11]],Promise)}return t}(),[n,T,e]);return r.createElement(S,null,r.createElement(S.Header,{title:e("Preferences")},r.createElement(s,null,r.createElement(u,{primary:!0,disabled:!L,onClick:B},e("Save_changes")))),r.createElement(S.ScrollableContentWithShadow,null,r.createElement(f,{maxWidth:"x600",w:"full",alignSelf:"center"},r.createElement(g,null,r.createElement(p,{onChange:O,defaultExpanded:!0}),r.createElement(P,{onChange:O}),r.createElement(E,{onChange:O}),r.createElement(v,{onChange:O}),r.createElement(x,{onChange:O}),r.createElement(b,{onChange:O}),r.createElement(C,{onChange:O}),M&&r.createElement(A,{onChange:O})))))};t.exportDefault(y)}


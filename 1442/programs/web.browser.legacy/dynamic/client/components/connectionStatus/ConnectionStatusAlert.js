function module(n,t,e){var r,u,c,a,o,i,l,s;e.link("@babel/runtime/helpers/slicedToArray",{default:function(n){r=n}},0),e.link("@rocket.chat/fuselage",{Icon:function(n){u=n}},0),e.link("react",{default:function(n){c=n},useEffect:function(n){a=n},useRef:function(n){o=n},useState:function(n){i=n}},1),e.link("../../contexts/ConnectionStatusContext",{useConnectionStatus:function(n){l=n}},2),e.link("../../contexts/TranslationContext",{useTranslation:function(n){s=n}},3),e.link("./ConnectionStatusAlert.css");var f=function(n){var t=n-Date.now();return t>0&&Math.round(t/1e3)||0},m=function(n,t){var e=o(),u=i((function(){return f(n)})),c=r(u,2),l=c[0],s=c[1];return a((function(){if("waiting"!==t)clearInterval(e.current),e.current=null;else{if(e.current)return;e.current=setInterval((function(){s(f(n))}),500)}}),[n,t]),a((function(){return function(){clearInterval(e.current)}}),[]),l};function v(){var n=l(),t=n.connected,e=n.retryTime,r=n.status,a=n.reconnect,o=m(e,r),i=s();if(t)return null;var f=function(n){n.preventDefault(),a&&a()};return(c.createElement("div",{className:"ConnectionStatusAlert",role:"alert"},c.createElement("strong",null,c.createElement(u,{name:"warning"})," ",i("meteor_status",{context:r})),"waiting"===r&&c.createElement(c.Fragment,null," ",i("meteor_status_reconnect_in",{count:o})),["waiting","offline"].includes(r)&&c.createElement(c.Fragment,null," ",c.createElement("a",{className:"ConnectionStatusAlert__retry-link",href:"#",onClick:f},i("meteor_status_try_now",{context:r})))))}e.exportDefault(v)}


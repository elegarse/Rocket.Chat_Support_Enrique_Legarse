function module(e,t,n){var r,a,u,i,l,o,c,s,f,d,p,m,v,g,k,E,b,h,S,x,y,T,C,w,F,_;n.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){u=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},3),n.link("@rocket.chat/fuselage",{Field:function(e){l=e},FieldGroup:function(e){o=e},Flex:function(e){c=e},InputBox:function(e){s=e},Margins:function(e){f=e},Select:function(e){d=e},Skeleton:function(e){p=e},TextInput:function(e){m=e}},0),n.link("@rocket.chat/fuselage-hooks",{useAutoFocus:function(e){v=e}},1),n.link("react",{default:function(e){g=e},useEffect:function(e){k=e},useReducer:function(e){E=e},useState:function(e){b=e},useCallback:function(e){h=e}},2),n.link("../../../contexts/SettingsContext",{useSettingsDispatch:function(e){S=e}},3),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){x=e}},4),n.link("../../../contexts/TranslationContext",{useTranslation:function(e){y=e},useLanguages:function(e){T=e}},5),n.link("../Pager",{Pager:function(e){C=e}},6),n.link("../SetupWizardState",{useSetupWizardContext:function(e){w=e}},7),n.link("../Step",{Step:function(e){F=e}},8),n.link("../StepHeader",{StepHeader:function(e){_=e}},9);var L=function(){var e="RESET",t="SET_VALUE",n=E((function(n,r){var a=r.type,i=r.payload;if(a===e)return i;if(a===t){var l=i._id,o=i.value;return n.map((function(e){return e._id===l?u({},e,{value:o}):e}))}return n}),[]),r=i(n,2),a=r[0],l=r[1],o,c;return{fields:a,resetFields:h((function(t){return l({type:e,payload:t})}),[]),setFieldValue:h((function(e,n){return l({type:t,payload:{_id:e,value:n}})}),[])}};function z(e){var t=e.step,n=e.title,E=e.active,h=w(),z=h.settings,D=h.currentStep,P=h.goToPreviousStep,q=h.goToNextStep,A=L(),I=A.fields,M=A.resetFields,R=A.setFieldValue,V=b(!1),W=i(V,2),j=W[0],B=W[1],H=T();k((function(){M(z.filter((function(e){var n;return e.wizard.step===t})).filter((function(e){var t=e.type;return["string","select","language","boolean"].includes(t)})).sort((function(e,t){var n,r;return e.wizard.order-t.wizard.order})).map((function(e){var t=e.value,n=a(e,["value"]);return u({},n,{value:null!=t?t:""})})))}),[z,D,t,M]);var N=y(),G=S(),U=v(E),Y=x(),J=function(){P()},K=function(){function e(e){return r.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),B(!0),t.prev=2,t.next=5,r.awrap(G(I.map((function(e){var t,n;return{_id:e._id,value:e.value}}))));case 5:q(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),Y({type:"error",message:t.t0});case 11:return t.prev=11,B(!1),t.finish(11);case 14:case"end":return t.stop()}}return t}(),null,null,[[2,8,11,14]],Promise)}return e}();return 0===I.length?g.createElement(F,{active:E,working:j,onSubmit:K},g.createElement(_,{number:t,title:n}),g.createElement(f,{blockEnd:"x32"},g.createElement(o,null,Array.from({length:5},(function(e,t){return g.createElement(l,{key:t},g.createElement(c.Item,{align:"stretch"},g.createElement(l.Label,null,g.createElement(p,{width:"50%"}))),g.createElement(s.Skeleton,null))}))))):g.createElement(F,{active:E,working:j,onSubmit:K},g.createElement(_,{number:t,title:n}),g.createElement(f,{blockEnd:"x32"},g.createElement(o,null,I.map((function(e,t){var n=e._id,r=e.type,a=e.i18nLabel,u=e.value,o=e.values;return(g.createElement(l,{key:t},g.createElement(l.Label,{htmlFor:n},N(a)),g.createElement(l.Row,null,"string"===r&&g.createElement(m,{type:"text","data-qa":n,id:n,name:n,ref:0===t?U:void 0,value:u,onChange:function(e){var t=e.currentTarget.value;return R(n,t)}}),"select"===r&&g.createElement(d,{"data-qa":n,id:n,name:n,placeholder:N("Select_an_option"),value:u,onChange:function(e){return R(n,e)},options:o.map((function(e){var t=e.i18nLabel,n;return[e.key,N(t)]}))}),"boolean"===r&&g.createElement(d,{"data-qa":n,id:n,name:n,ref:0===t?U:void 0,value:String(u),onChange:function(e){return R(n,"true"===e)},options:[["true",N("Yes")],["false",N("No")]]}),"language"===r&&g.createElement(d,{"data-qa":n,id:n,name:n,placeholder:N("Default"),value:u,onChange:function(e){return R(n,e)},options:H.map((function(e){var t,n;return[e.key,e.name]})).sort((function(e,t){var n,r,a,u;return i(e,1)[0]-i(t,1)[0]}))}))))})))),g.createElement(C,{disabled:j,onBackClick:D>2&&J}))}n.exportDefault(z)}


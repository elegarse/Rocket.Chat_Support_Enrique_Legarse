function module(e,t,r){var n,a,i,c,l,o,s,u,d,m,f,g,_,v,k,p,h,S,E,b,x,R,y,C,T;r.link("@babel/runtime/regenerator",{default:function(e){n=e}},0),r.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),r.link("@babel/runtime/helpers/extends",{default:function(e){i=e}},2),r.link("@babel/runtime/helpers/objectSpread2",{default:function(e){c=e}},3),r.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},4),r.link("@rocket.chat/fuselage",{Box:function(e){o=e},CheckBox:function(e){s=e},Field:function(e){u=e},Icon:function(e){d=e},Margins:function(e){m=e},RadioButton:function(e){f=e}},0),r.link("@rocket.chat/fuselage-hooks",{useAutoFocus:function(e){g=e},useMergedRefs:function(e){_=e},useUniqueId:function(e){v=e}},1),r.link("react",{default:function(e){k=e},useRef:function(e){p=e},useState:function(e){h=e}},2),r.link("../../../contexts/ServerContext",{useMethod:function(e){S=e}},3),r.link("../../../contexts/SettingsContext",{useSettingsDispatch:function(e){E=e}},4),r.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){b=e}},5),r.link("../../../contexts/TranslationContext",{useTranslation:function(e){x=e}},6),r.link("../Pager",{Pager:function(e){R=e}},7),r.link("../SetupWizardState",{useSetupWizardContext:function(e){y=e}},8),r.link("../Step",{Step:function(e){C=e}},9),r.link("../StepHeader",{StepHeader:function(e){T=e}},10);var w=k.forwardRef((function(e,t){var r=e.children,n=e.label,a=e.selected,s=e.disabled,d=l(e,["children","label","selected","disabled"]),m=p(),g=_(t,m),h=v();return k.createElement(o,{className:["SetupWizard__RegisterServerStep-option",a&&"SetupWizard__RegisterServerStep-option--selected"].filter(Boolean).join(" "),display:"block",marginBlock:"x8",padding:"x24",color:a?"primary":"disabled",style:c({borderColor:"currentColor",borderRadius:2,borderWidth:2,cursor:"pointer"},s&&{opacity:.25}),onClick:function(){m.current.click()}},k.createElement(u,null,k.createElement(u.Row,null,k.createElement(f,i({ref:g,id:h,checked:a,disabled:s},d)),k.createElement(u.Label,{htmlFor:h},n))),r)})),P=function(e){return k.createElement(o,i({is:"ul",marginBlock:"x16"},e))},I=function(e){var t=e.children,r=e.icon,n=l(e,["children","icon"]);return(k.createElement(o,i({is:"li",marginBlockEnd:"x8",display:"flex",alignItems:"center",color:"default"},n),"check"===r&&k.createElement(d,{name:"check",size:"x20",marginInlineEnd:"x8",color:"primary"}),"circle"===r&&k.createElement(d,{name:"circle",size:"x8",marginInlineStart:"x8",marginInlineEnd:"x12",color:"default"}),t))};function A(e){var t=e.step,r=e.title,i=e.active,c=y(),l=c.canDeclineServerRegistration,d=c.goToPreviousStep,f=c.goToFinalStep,_=h(!0),p=a(_,2),A=p[0],B=p[1],M=h(!0),F=a(M,2),W=F[0],z=F[1],D=h(!1),j=a(D,2),q=j[0],L=j[1],O=x(),H=h(!1),N=a(H,2),U=N[0],G=N[1],J=E(),K=S("cloud:registerWorkspace"),Q=b(),V=function(){d()},X=function(){function e(e){return n.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),G(!0),t.prev=2,!A||q){t.next=5;break}throw new Object({error:"Register_Server_Terms_Alert"});case 5:return t.next=7,n.awrap(J([{_id:"Statistics_reporting",value:A},{_id:"Apps_Framework_enabled",value:A},{_id:"Register_Server",value:A},{_id:"Allow_Marketing_Emails",value:W},{_id:"Cloud_Service_Agree_PrivacyTerms",value:q}]));case 7:if(!A){t.next=10;break}return t.next=10,n.awrap(K());case 10:G(!1),f(),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(2),Q({type:"error",message:t.t0}),G(!1);case 18:case"end":return t.stop()}}return t}(),null,null,[[2,14]],Promise)}return e}(),Y=g(i),Z=v(),$=v();return k.createElement(C,{active:i,working:U,onSubmit:X},k.createElement(T,{number:t,title:r}),k.createElement(m,{blockEnd:"x32"},k.createElement(o,null,k.createElement(o,{is:"p",fontScale:"s1",color:"hint",marginBlockEnd:"x16"},O("Register_Server_Info")),k.createElement(o,{display:"flex",flexDirection:"column"},k.createElement(w,{ref:Y,"data-qa":"register-server",label:O("Register_Server_Registered"),name:"registerServer",value:"true",selected:A,onChange:function(e){var t=e.currentTarget.checked;B(t),z(t)}},k.createElement(P,null,k.createElement(I,{icon:"check"},O("Register_Server_Registered_Push_Notifications")),k.createElement(I,{icon:"check"},O("Register_Server_Registered_Livechat")),k.createElement(I,{icon:"check"},O("Register_Server_Registered_OAuth")),k.createElement(I,{icon:"check"},O("Register_Server_Registered_Marketplace"))),k.createElement(u,null,k.createElement(u.Row,null,k.createElement(s,{id:$,name:"optInMarketingEmails",value:"true",disabled:!A,checked:W,onChange:function(e){var t=e.currentTarget.checked;z(t)}}),k.createElement(u.Label,{htmlFor:$},O("Register_Server_Opt_In"))))),k.createElement(w,{"data-qa":"register-server-standalone",label:O("Register_Server_Standalone"),name:"registerServer",value:"false",disabled:!l,selected:!A,onChange:function(e){var t=e.currentTarget.checked;B(!t),z(!t),L(!t)}},k.createElement(P,null,k.createElement(I,{icon:"circle"},O("Register_Server_Standalone_Service_Providers")),k.createElement(I,{icon:"circle"},O("Register_Server_Standalone_Update_Settings")),k.createElement(I,{icon:"circle"},O("Register_Server_Standalone_Own_Certificates")))),k.createElement(m,{all:"x16"},k.createElement(u,null,k.createElement(u.Row,null,k.createElement(s,{id:Z,name:"agreeTermsAndPrivacy","data-qa":"agree-terms-and-privacy",disabled:!A,checked:q,onChange:function(e){var t=e.currentTarget.checked;L(t)}}),k.createElement(u.Label,{htmlFor:Z},O("Register_Server_Registered_I_Agree")," ",k.createElement("a",{href:"https://rocket.chat/terms"},O("Terms"))," & ",k.createElement("a",{href:"https://rocket.chat/privacy"},O("Privacy_Policy"))))))))),k.createElement(R,{disabled:U,onBackClick:V}))}r.exportDefault(A)}


function module(e,n,t){var r,a,u,o,l,i,c,s,m,f,d,p,E,v,g,x,h,k,b,w,_,T,y,S;function C(e){var n=e.step,t=e.title,C=e.active,F=w(),R=g("registerUser"),I=g("setUsername"),P=x("forceLogin"),L=_(),U=k(),q=function(){function e(e){var n,t,r,u,o;return a.async(function(){function l(l){for(;;)switch(l.prev=l.next){case 0:return n=e.name,t=e.username,r=e.email,u=e.password,o=e.onRegistrationEmailSent,l.next=3,a.awrap(R({name:n,username:t,email:r,pass:u}));case 3:return L.run("userRegistered"),l.prev=4,l.next=7,a.awrap(F(r,u));case 7:l.next=16;break;case 9:if(l.prev=9,l.t0=l.catch(4),"error-invalid-email"!==l.t0.error){l.next=14;break}return o&&o(),l.abrupt("return");case 14:throw U({type:"error",message:l.t0}),l.t0;case 16:return P(!1),l.next=19,a.awrap(I(t));case 19:L.run("usernameSet");case 20:case"end":return l.stop()}}return l}(),null,null,[[4,9]],Promise)}return e}(),z=h("UTF8_Names_Validation"),A=E((function(){return new RegExp("^"+z+"$")}),[z]),M=E((function(){return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+$/i}),[]),D=v(""),Z=r(D,2),H=Z[0],N=Z[1],W=v(""),$=r(W,2),G=$[0],O=$[1],V=v(""),j=r(V,2),B=j[0],J=j[1],K=v(""),Q=r(K,2),X=Q[0],Y=Q[1],ee=v(!0),ne=r(ee,2),te=ne[0],re=ne[1],ae=v(!0),ue=r(ae,2),oe=ue[0],le=ue[1],ie=v(!0),ce=r(ie,2),se=ce[0],me=ce[1],fe=v(!0),de=r(fe,2),pe=de[0],Ee=de[1],ve=E((function(){return H&&G&&B&&X}),[H,G,B,X]),ge=v(!1),xe=r(ge,2),he=xe[0],ke=xe[1],be=function(){var e=!!H,n=!!G&&A.test(G),t=!!B&&M.test(B),r=!!X;return re(e),le(n),me(t),Ee(r),e&&n&&t&&r},we=b(),_e=f(C),Te=function(){function e(e){var n;return a.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),n=be()){t.next=4;break}return t.abrupt("return");case 4:return ke(!0),t.prev=5,t.next=8,a.awrap(q({name:H,username:G,email:B,password:X,onRegistrationEmailSent:function(){U({type:"success",message:we("We_have_sent_registration_email")})}}));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),console.error(t.t0);case 13:return t.prev=13,ke(!1),t.finish(13);case 16:case"end":return t.stop()}}return t}(),null,null,[[5,10,13,16]],Promise)}return e}(),ye=d(),Se=d(),Ce=d(),Fe=d();return p.createElement(y,{active:C,working:he,onSubmit:Te},p.createElement(S,{number:n,title:t}),p.createElement(c,{blockEnd:"x32"},p.createElement(l,null,p.createElement(o,null,p.createElement(o.Label,{htmlFor:ye,required:!0},we("Name")),p.createElement(o.Row,null,p.createElement(m,{ref:_e,id:ye,addon:p.createElement(i,{name:"user",size:"x20"}),placeholder:we("Type_your_name"),value:H,onChange:function(e){var n=e.currentTarget.value;return N(n)},error:te?"":"error"}))),p.createElement(o,null,p.createElement(o.Label,{htmlFor:Se,required:!0},we("Username")),p.createElement(o.Row,null,p.createElement(m,{id:Se,addon:p.createElement(i,{name:"at",size:"x20"}),placeholder:we("Type_your_username"),value:G,onChange:function(e){var n=e.currentTarget.value;return O(n)},error:oe?"":"error"})),!oe&&p.createElement(o.Error,null,we("Invalid_username"))),p.createElement(o,null,p.createElement(o.Label,{htmlFor:Ce,required:!0},we("Organization_Email")),p.createElement(o.Row,null,p.createElement(u,{id:Ce,addon:p.createElement(i,{name:"mail",size:"x20"}),placeholder:we("Type_your_email"),value:B,onChange:function(e){var n=e.currentTarget.value;return J(n)},error:se?"":"error"})),!se&&p.createElement(o.Error,null,we("Invalid_email"))),p.createElement(o,null,p.createElement(o.Label,{htmlFor:Fe,required:!0},we("Password")),p.createElement(o.Row,null,p.createElement(s,{id:Fe,addon:p.createElement(i,{name:"key",size:"x20"}),placeholder:we("Type_your_password"),value:X,onChange:function(e){var n=e.currentTarget.value;return Y(n)},error:pe?"":"error"}))))),p.createElement(T,{disabled:he,isContinueEnabled:ve}))}t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@rocket.chat/fuselage",{EmailInput:function(e){u=e},Field:function(e){o=e},FieldGroup:function(e){l=e},Icon:function(e){i=e},Margins:function(e){c=e},PasswordInput:function(e){s=e},TextInput:function(e){m=e}},0),t.link("@rocket.chat/fuselage-hooks",{useAutoFocus:function(e){f=e},useUniqueId:function(e){d=e}},1),t.link("react",{default:function(e){p=e},useMemo:function(e){E=e},useState:function(e){v=e}},2),t.link("../../../contexts/ServerContext",{useMethod:function(e){g=e}},3),t.link("../../../contexts/SessionContext",{useSessionDispatch:function(e){x=e}},4),t.link("../../../contexts/SettingsContext",{useSetting:function(e){h=e}},5),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){k=e}},6),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){b=e}},7),t.link("../../../contexts/UserContext",{useLoginWithPassword:function(e){w=e}},8),t.link("../../../hooks/useCallbacks",{useCallbacks:function(e){_=e}},9),t.link("../Pager",{Pager:function(e){T=e}},10),t.link("../Step",{Step:function(e){y=e}},11),t.link("../StepHeader",{StepHeader:function(e){S=e}},12),t.exportDefault(C)}


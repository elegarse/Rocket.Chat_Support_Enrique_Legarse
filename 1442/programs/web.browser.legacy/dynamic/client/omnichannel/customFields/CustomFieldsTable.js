function module(e,t,n){var l,r,a,o,i,u,c,s,m,d,f,p,h,k,x,E,C,v,T,b,g,w;function P(e){var t=e._id,n=e.reload,l=w("livechat:removeCustomField"),r=b(),a=g(),c=x(),d=p(function(){function e(){return o.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.awrap(l(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:n();case 9:case"end":return e.stop()}}return e}(),null,null,[[0,5]],Promise)}return e}()),f=p((function(e){e.stopPropagation();var t=function(){function e(){return o.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.awrap(d());case 3:a({type:"success",message:c("Custom_Field_Removed")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a({type:"error",message:e.t0});case 9:r();case 10:case"end":return e.stop()}}return e}(),null,null,[[0,6]],Promise)}return e}();r(m.createElement(T,{onDelete:t,onCancel:function(){return r()}}))}));return m.createElement(u.Cell,{fontScale:"p1",color:"hint",withTruncatedText:!0},m.createElement(s,{small:!0,ghost:!0,title:c("Remove"),onClick:f},m.createElement(i,{name:"trash",size:"x16"})))}n.link("@babel/runtime/helpers/extends",{default:function(e){l=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){a=e}},2),n.link("@babel/runtime/regenerator",{default:function(e){o=e}},3),n.export({RemoveCustomFieldButton:function(){return P},CustomFieldsTable:function(){return y}}),n.link("@rocket.chat/fuselage",{Icon:function(e){i=e},Table:function(e){u=e},Callout:function(e){c=e},Button:function(e){s=e}},0),n.link("react",{default:function(e){m=e},useState:function(e){d=e},memo:function(e){f=e}},1),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){p=e}},2),n.link("../../components/GenericTable",{default:function(e){h=e}},3),n.link("../../contexts/RouterContext",{useRoute:function(e){k=e}},4),n.link("../../contexts/TranslationContext",{useTranslation:function(e){x=e}},5),n.link("../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){E=e}},6),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){C=e},ENDPOINT_STATES:function(e){v=e}},7),n.link("../DeleteWarningModal",{default:function(e){T=e}},8),n.link("../../contexts/ModalContext",{useSetModal:function(e){b=e}},9),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){g=e}},10),n.link("../../contexts/ServerContext",{useMethod:function(e){w=e}},11);var F=f(function(){function e(e){var t=e.medium,n=e.reload,l=a(e,["medium","reload"]),r=l._id,o=l.label,i=l.scope,c=l.visibility,s=k("omnichannel-customfields"),d=function(){s.push({context:"edit",id:r})},f=function(e){["Enter","Space"].includes(e.nativeEvent.code)&&d()},p=function(e){e.stopPropagation()};return m.createElement(u.Row,{key:r,role:"link",action:!0,tabIndex:0,onClick:d,onKeyDown:f},m.createElement(u.Cell,{withTruncatedText:!0},r),m.createElement(u.Cell,{withTruncatedText:!0},o),m.createElement(u.Cell,{withTruncatedText:!0},i),m.createElement(u.Cell,{withTruncatedText:!0},c),m.createElement(u.Cell,{withTruncatedText:!0,onClick:p},m.createElement(P,{_id:r,reload:n})))}return e}()),R=function(){var e=x(),t=d((function(){return{current:0,itemsPerPage:25}})),n=r(t,2),l=n[0],a=n[1],o=C("livechat/custom-fields?count="+l.itemsPerPage+"&offset="+l.current),i=o.data,u=o.state,s=o.reload;return u===v.ERROR?m.createElement(c,null,e("Error"),": error"):m.createElement(y,{customFields:null==i?void 0:i.customFields,totalCustomFields:null==i?void 0:i.total,params:l,onChangeParams:a,reload:s})};function y(e){var t=e.customFields,n=e.totalCustomFields,a=e.params,o=e.onChangeParams,i=e.reload,u=x(),c=E([600],200),s=r(c,2),d=s[0],f=s[1];return m.createElement(h,{ref:d,header:m.createElement(m.Fragment,null,m.createElement(h.HeaderCell,null,u("Field")),m.createElement(h.HeaderCell,null,u("Label")),m.createElement(h.HeaderCell,null,u("Scope")),m.createElement(h.HeaderCell,null,u("Visibility")),m.createElement(h.HeaderCell,{width:"x60"})),results:t,total:n,params:a,setParams:o},(function(e){return m.createElement(F,l({key:e._id,medium:f,reload:i},e))}))}n.exportDefault(R)}


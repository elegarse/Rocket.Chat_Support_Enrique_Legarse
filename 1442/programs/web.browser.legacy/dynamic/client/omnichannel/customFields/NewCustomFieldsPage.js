function module(e,n,t){var i,o,a,l,s,u,c,r,f,d,m,h,k,b,p,v,x,C,g,E,F;t.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},1),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),t.link("react",{default:function(e){l=e},useCallback:function(e){s=e},useState:function(e){u=e}},0),t.link("@rocket.chat/fuselage",{Box:function(e){c=e},Button:function(e){r=e},Icon:function(e){f=e},FieldGroup:function(e){d=e},ButtonGroup:function(e){m=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){h=e}},2),t.link("use-subscription",{useSubscription:function(e){k=e}},3),t.link("./CustomFieldsForm",{default:function(e){b=e}},4),t.link("../../components/basic/Page",{default:function(e){p=e}},5),t.link("../../contexts/TranslationContext",{useTranslation:function(e){v=e}},6),t.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){x=e}},7),t.link("../../contexts/ServerContext",{useMethod:function(e){C=e}},8),t.link("../../contexts/RouterContext",{useRoute:function(e){g=e}},9),t.link("../../hooks/useForm",{useForm:function(e){E=e}},10),t.link("../additionalForms",{formsSubscription:function(e){F=e}},11);var S={field:"",label:"",scope:"visitor",visibility:!0,regexp:""},y=function(){var e=v(),n=x(),t=u({}),y=a(t,2),w=y[0],T=y[1],B,M=k(F).useCustomFieldsAdditionalForm,A,D=(void 0===M?function(){}:M)(),G=g("omnichannel-customfields"),P=s((function(){G.push({})}),[G]),R=E(S),U=R.values,W=R.handlers,_=R.hasUnsavedChanges,j=C("livechat:saveCustomField"),z=w.hasError,H=w.data,I=w.hasUnsavedChanges,N=!z&&(I||_),q=h(function(){function t(){return i.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.awrap(j(void 0,o({},U,{visibility:U.visibility?"visible":"hidden"},H)));case 3:n({type:"success",message:e("Saved")}),G.push({}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:"error",message:t.t0});case 10:case"end":return t.stop()}}return t}(),null,null,[[0,7]],Promise)}return t}()),J=h((function(e){T(o({},w,{},e))}));return l.createElement(p,null,l.createElement(p.Header,{title:e("New_Custom_Field")},l.createElement(m,null,l.createElement(r,{onClick:P},l.createElement(f,{size:"x16",name:"back"}),e("Back")),l.createElement(r,{primary:!0,onClick:q,disabled:!N},e("Save")))),l.createElement(p.ScrollableContentWithShadow,null,l.createElement(c,{maxWidth:"x600",w:"full",alignSelf:"center"},l.createElement(d,null,l.createElement(b,{values:U,handlers:W}),D&&l.createElement(D,{onChange:J,state:U})))))};t.exportDefault(y)}


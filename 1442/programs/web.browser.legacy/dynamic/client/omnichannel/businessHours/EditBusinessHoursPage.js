function module(e,n,t){var r,s,u,o,a,i,c,l,m,f,p,d,k,b,h,E,v,H,x,B,g;t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){s=e}},1),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){u=e}},2),t.link("react",{default:function(e){o=e},useRef:function(e){a=e},useMemo:function(e){i=e}},0),t.link("@rocket.chat/fuselage",{Button:function(e){c=e},ButtonGroup:function(e){l=e},Callout:function(e){m=e}},1),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){f=e}},2),t.link("./BusinessHoursFormContainer",{default:function(e){p=e}},3),t.link("../../components/basic/Page",{default:function(e){d=e}},4),t.link("../../components/PageSkeleton",{default:function(e){k=e}},5),t.link("./BusinessHoursRouter",{useIsSingleBusinessHours:function(e){b=e}},6),t.link("../../contexts/RouterContext",{useRoute:function(e){h=e}},7),t.link("../../contexts/TranslationContext",{useTranslation:function(e){E=e}},8),t.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){v=e}},9),t.link("../../contexts/ServerContext",{useMethod:function(e){H=e}},10),t.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){x=e},ENDPOINT_STATES:function(e){B=e}},11),t.link("./mapBusinessHoursForm",{mapBusinessHoursForm:function(e){g=e}},12);var y=function(e){var n=e.id,t=e.type,y=E(),C=v(),S=b(),D=x("livechat/business-hour",i((function(){return{_id:n,type:t}}),[n,t])),R=D.data,T=D.state,_=a({form:{}}),w=H("livechat:saveBusinessHour"),N=H("livechat:removeBusinessHour"),P=h("omnichannel-businessHours"),M=f(function(){function e(){var e,n,t,o,a,i,c,l,m,f;return r.async(function(){function p(p){for(;;)switch(p.prev=p.next){case 0:if(T===B.DONE&&R.success){p.next=2;break}return p.abrupt("return");case 2:if(e=_.current,n=e.form,t=e.multiple,o=(t=void 0===t?{}:t).departments,a=u(t,["departments"]),i=e.timezone,c=(i=void 0===i?{}:i).name,"default"===R.businessHour.type||""!==a.name){p.next=9;break}return p.abrupt("return",C({type:"error",message:y("error-the-field-is-required",{field:y("Name")})}));case 9:return l=g(n,R.businessHour),m=(null==o?void 0:o.join(","))||"",p.prev=11,f=s({},R.businessHour,{},a,{departmentsToApplyBusinessHour:null!=m?m:"",timezoneName:c||R.businessHour.timezone.name,workHours:l}),p.next=15,r.awrap(w(f));case 15:C({type:"success",message:y("Business_hours_updated")}),P.push({}),p.next=22;break;case 19:p.prev=19,p.t0=p.catch(11),C({type:"error",message:p.t0});case 22:case"end":return p.stop()}}return p}(),null,null,[[11,19]],Promise)}return e}()),O=f(function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:if("custom"===t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r.awrap(N(n,t));case 5:C({type:"success",message:y("Business_Hour_Removed")}),P.push({}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),C({type:"error",message:e.t0});case 12:case"end":return e.stop()}}return e}(),null,null,[[2,9]],Promise)}return e}()),j=f((function(){P.push({})}));return T===B.LOADING?o.createElement(k,null):T===B.ERROR||B.DONE&&!R.businessHour?o.createElement(d,null,o.createElement(d.Header,{title:y("Business_Hours")},o.createElement(c,{onClick:j},y("Back"))),o.createElement(d.ScrollableContentWithShadow,null,o.createElement(m,{type:"danger"},y("Error")))):o.createElement(d,null,o.createElement(d.Header,{title:y("Business_Hours")},o.createElement(l,null,!S&&o.createElement(c,{onClick:j},y("Back")),"custom"===t&&o.createElement(c,{primary:!0,danger:!0,onClick:O},y("Delete")),o.createElement(c,{primary:!0,onClick:M},y("Save")))),o.createElement(d.ScrollableContentWithShadow,null,o.createElement(p,{data:R.businessHour,saveRef:_})))};t.exportDefault(y)}


function module(e,t,n){var r,a,o,l,i,c,u,s,f,m,d,g,k,p,E,x,h,T,v,C,b,D;n.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),n.link("@babel/runtime/regenerator",{default:function(e){o=e}},2),n.export({TriggersTable:function(){return w}}),n.link("@rocket.chat/fuselage",{Table:function(e){l=e},Callout:function(e){i=e},Icon:function(e){c=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e},Button:function(e){s=e}},1),n.link("react",{default:function(e){f=e},useState:function(e){m=e},memo:function(e){d=e},useMemo:function(e){g=e}},2),n.link("../../components/GenericTable",{default:function(e){k=e}},3),n.link("../DeleteWarningModal",{default:function(e){p=e}},4),n.link("../../contexts/RouterContext",{useRoute:function(e){E=e}},5),n.link("../../contexts/ModalContext",{useSetModal:function(e){x=e}},6),n.link("../../contexts/ServerContext",{useMethod:function(e){h=e}},7),n.link("../../contexts/TranslationContext",{useTranslation:function(e){T=e}},8),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){v=e}},9),n.link("../../hooks/useResizeInlineBreakpoint",{useResizeInlineBreakpoint:function(e){C=e}},10),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){b=e},ENDPOINT_STATES:function(e){D=e}},11);var R=d(function(){function e(e){var t=e._id,n=e.name,r=e.description,a=e.enabled,i=e.onDelete,m=v(),d=T(),g=x(),k=E("omnichannel-triggers"),C=h("livechat:removeTrigger"),b=u((function(){k.push({context:"edit",id:t})})),D=u((function(e){["Enter","Space"].includes(e.nativeEvent.code)&&b()})),R=u((function(e){e.stopPropagation();var n=function(){function e(){return o.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.awrap(C(t));case 3:m({type:"success",message:d("Trigger_removed")}),i(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),m({type:"error",message:e.t0});case 10:g();case 11:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}();g(f.createElement(p,{onDelete:n,onCancel:function(){return g()}}))}));return f.createElement(l.Row,{key:t,role:"link",action:!0,tabIndex:0,onClick:b,onKeyDown:D},f.createElement(l.Cell,{withTruncatedText:!0},n),f.createElement(l.Cell,{withTruncatedText:!0},r),f.createElement(l.Cell,{withTruncatedText:!0},d(a?"Yes":"No")),f.createElement(l.Cell,{withTruncatedText:!0},f.createElement(s,{small:!0,ghost:!0,title:d("Remove"),onClick:R},f.createElement(c,{name:"trash",size:"x16"}))))}return e}()),P=function(e){var t=e.reloadRef,n=T(),r=m((function(){return{current:0,itemsPerPage:25}})),o=a(r,2),l=o[0],c=o[1],u=l.current,s=l.itemsPerPage,d=b("livechat/triggers",g((function(){return{offset:u,count:s}}),[u,s])),k=d.data,p=d.state,E=d.reload;return t.current=E,p===D.ERROR?f.createElement(i,null,n("Error"),": error"):f.createElement(w,{triggers:null==k?void 0:k.triggers,totalTriggers:null==k?void 0:k.total,params:l,onChangeParams:c,onDelete:E})};function w(e){var t=e.triggers,n=e.totalTriggers,o=e.params,l=e.onChangeParams,i=e.onDelete,c=T(),u=C([600],200),s=a(u,2),m=s[0],d=s[1];return f.createElement(k,{ref:m,header:f.createElement(f.Fragment,null,f.createElement(k.HeaderCell,null,c("Name")),f.createElement(k.HeaderCell,null,c("Description")),f.createElement(k.HeaderCell,null,c("Enabled")),f.createElement(k.HeaderCell,{width:"x60"},c("Remove"))),results:t,total:n,params:o,setParams:l},(function(e){return f.createElement(R,r({key:e._id,onDelete:i,medium:d},e))}))}n.exportDefault(P)}


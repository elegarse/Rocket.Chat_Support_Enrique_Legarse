function module(e,t,n){var a,r,i,c,l,o,u,s,m,f,d,x,E,k,h,p,v,T,g,w,b,y;function C(e){var t=e._id,n=e.reload,a=p(),r=T("DELETE","livechat/users/manager/"+t),c=o(function(){function e(){var e;return i.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.awrap(r());case 2:!0===(e=t.sent).success&&n();case 4:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return e}());return u.createElement(x.Cell,{fontScale:"p1",clickable:!0,color:"hint",onClick:c,withTruncatedText:!0},u.createElement(k,{small:!0,ghost:!0,title:a("Remove"),onClick:c},u.createElement(E,{name:"trash",size:"x16"})))}n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){r=e}},1),n.link("@babel/runtime/regenerator",{default:function(e){i=e}},2),n.export({RemoveManagerButton:function(){return C},ManagersRoute:function(){return M}}),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){c=e},useMediaQuery:function(e){l=e},useMutableCallback:function(e){o=e}},0),n.link("react",{default:function(e){u=e},useMemo:function(e){s=e},useCallback:function(e){m=e},useState:function(e){f=e}},1),n.link("@rocket.chat/fuselage",{Box:function(e){d=e},Table:function(e){x=e},Icon:function(e){E=e},Button:function(e){k=e}},2),n.link("../../components/GenericTable",{Th:function(e){h=e}},3),n.link("../../contexts/TranslationContext",{useTranslation:function(e){p=e}},4),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){v=e}},5),n.link("../../hooks/useEndpointAction",{useEndpointAction:function(e){T=e}},6),n.link("../../contexts/AuthorizationContext",{usePermission:function(e){g=e}},7),n.link("../../components/NotAuthorizedPage",{default:function(e){w=e}},8),n.link("./ManagersPage",{default:function(e){b=e}},9),n.link("../../components/basic/avatar/UserAvatar",{default:function(e){y=e}},10);var P=function(e){return"asc"===e?1:-1},S=function(e,t){var n=e.text,i=e.itemsPerPage,c=e.current,l=r(t,2),o=l[0],u=l[1];return s((function(){var e;return a({fields:JSON.stringify({name:1,username:1,emails:1,avatarETag:1}),text:n,sort:JSON.stringify((e={},e[o]=P(u),e.usernames="name"===o?P(u):void 0,e))},i&&{count:i},{},c&&{offset:c})}),[n,i,c,o,u])};function M(){var e=p(),t=g("manage-livechat-managers"),n=f({text:"",current:0,itemsPerPage:25}),a=r(n,2),i=a[0],E=a[1],k=f(["name","asc"]),T=r(k,2),P=T[0],M=T[1],A=l("(min-width: 1024px)"),D=o((function(e){var t=r(P,2),n=t[0],a=t[1];M(n!==e?[e,"asc"]:[e,"asc"===a?"desc":"asc"])})),R=c(i,500),z=c(P,500),B=S(R,z),N=v("livechat/users/manager",B)||{},I=N.data,_=N.reload,J=s((function(){return[u.createElement(h,{key:"name",direction:P[1],active:"name"===P[0],onClick:D,sort:"name",w:"x200"},e("Name")),A&&u.createElement(h,{key:"username",direction:P[1],active:"username"===P[0],onClick:D,sort:"username",w:"x140"},e("Username")),u.createElement(h,{key:"email",direction:P[1],active:"emails.adress"===P[0],onClick:D,sort:"emails.address",w:"x120"},e("Email")),u.createElement(h,{key:"remove",w:"x40"},e("Remove"))].filter(Boolean)}),[P,D,e,A]),O=m((function(e){var t=e.emails,n=e._id,a=e.username,r=e.name,i=e.avatarETag;return(u.createElement(x.Row,{key:n,tabIndex:0,"qa-user-id":n},u.createElement(x.Cell,{withTruncatedText:!0},u.createElement(d,{display:"flex",alignItems:"center"},u.createElement(y,{size:A?"x28":"x40",title:a,username:a,etag:i}),u.createElement(d,{display:"flex",withTruncatedText:!0,mi:"x8"},u.createElement(d,{display:"flex",flexDirection:"column",alignSelf:"center",withTruncatedText:!0},u.createElement(d,{fontScale:"p2",withTruncatedText:!0,color:"default"},r||a),!A&&r&&u.createElement(d,{fontScale:"p1",color:"hint",withTruncatedText:!0}," ","@"+a," "))))),A&&u.createElement(x.Cell,null,u.createElement(d,{fontScale:"p2",withTruncatedText:!0,color:"hint"},a)," ",u.createElement(d,{mi:"x4"})),u.createElement(x.Cell,{withTruncatedText:!0},t&&t.length&&t[0].address),u.createElement(C,{_id:n,reload:_})))}),[A,_]);return t?u.createElement(b,{setParams:E,params:i,onHeaderClick:D,data:I,useQuery:S,reload:_,header:J,renderRow:O,title:e("Managers")}):u.createElement(w,null)}n.exportDefault(M)}


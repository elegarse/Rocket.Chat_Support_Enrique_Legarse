function module(e,n,t){var o,a,r,i,l,u,c,s,f,d,m,p,x,k,E,b,g,h,v,C,w,D,y,I,_,S;function M(e){var n=e.integrationId,t=l(e,["integrationId"]),o=g(),a=s(),f=i(a,2),d=f[0],x=f[1],k=h("integrations.get",c((function(){return{integrationId:n}}),[n,d])),E=k.data,b=k.state,C=k.error,w=function(){return x(new Date)};return b===v.LOADING?u.createElement(m,r({w:"full",pb:"x24"},t),u.createElement(p,{mbe:"x4"}),u.createElement(p,{mbe:"x8"}),u.createElement(p,{mbe:"x4"}),u.createElement(p,{mbe:"x8"}),u.createElement(p,{mbe:"x4"}),u.createElement(p,{mbe:"x8"})):C?u.createElement(m,r({mbs:"x16"},t),o("Oops_page_not_found")):u.createElement(j,r({data:E.integration,onChange:w},t))}t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){o=e}},0),t.link("@babel/runtime/regenerator",{default:function(e){a=e}},1),t.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},2),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){i=e}},3),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},4),t.export({default:function(){return M}}),t.link("react",{default:function(e){u=e},useMemo:function(e){c=e},useState:function(e){s=e},useCallback:function(e){f=e}},0),t.link("@rocket.chat/fuselage",{Field:function(e){d=e},Box:function(e){m=e},Skeleton:function(e){p=e},Margins:function(e){x=e},Button:function(e){k=e}},1),t.link("./EditIntegrationsPage",{SuccessModal:function(e){E=e},DeleteWarningModal:function(e){b=e}},2),t.link("../../../contexts/TranslationContext",{useTranslation:function(e){g=e}},3),t.link("../../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){h=e},ENDPOINT_STATES:function(e){v=e}},4),t.link("../../../contexts/ServerContext",{useMethod:function(e){C=e}},5),t.link("../../../hooks/useEndpointAction",{useEndpointAction:function(e){w=e}},6),t.link("../../../contexts/RouterContext",{useRoute:function(e){D=e}},7),t.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){y=e}},8),t.link("../../../contexts/ModalContext",{useSetModal:function(e){I=e}},9),t.link("../../../hooks/useForm",{useForm:function(e){_=e}},10),t.link("../IncomingWebhookForm",{default:function(e){S=e}},11);var T=function(e){var n,t,o,a,r,i,l;return{enabled:e.enabled,channel:null!==(n=e.channel.join(", "))&&void 0!==n?n:"",username:null!==(t=e.username)&&void 0!==t?t:"",name:null!==(o=e.name)&&void 0!==o?o:"",alias:null!==(a=e.alias)&&void 0!==a?a:"",avatarUrl:null!==(r=e.avatarUrl)&&void 0!==r?r:"",emoji:null!==(i=e.emoji)&&void 0!==i?i:"",scriptEnabled:e.scriptEnabled,script:e.script}};function j(e){var n=e.data,t=e.onChange,i=l(e,["data","onChange"]),s=g(),p=y(),h=_(T(n)),v=h.values,M=h.handlers,j=h.reset,P=I(),A=c((function(){return{type:"webhook-incoming",integrationId:n._id}}),[n._id]),F=w("POST","integrations.remove",A),O=C("updateIncomingIntegration"),R=D("admin-integrations"),G=f((function(){var e=function(){return P()},n=function(){function n(){var n;return a.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.awrap(F());case 2:(n=t.sent).success&&P(u.createElement(E,{onClose:function(){e(),R.push({})}}));case 4:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return n}();P(u.createElement(b,{onDelete:n,onCancel:e}))}),[F,R]),N=f(function(){function e(){return a.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.awrap(O(n._id,o({},v)));case 3:p({type:"success",message:s("Integration_updated")}),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p({type:"error",message:e.t0});case 10:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}(),[n._id,p,v,t,O,s]),W=c((function(){return u.createElement(d,null,u.createElement(d.Row,{display:"flex",flexDirection:"column"},u.createElement(m,{display:"flex",flexDirection:"row",justifyContent:"space-between",w:"full"},u.createElement(x,{inlineEnd:"x4"},u.createElement(k,{flexGrow:1,type:"reset",onClick:j},s("Reset")),u.createElement(k,{mie:"none",flexGrow:1,onClick:N},s("Save")))),u.createElement(k,{mbs:"x4",primary:!0,danger:!0,w:"full",onClick:G},s("Delete"))))}),[G,N,j,s]);return u.createElement(S,r({formHandlers:M,formValues:v,extraData:{_id:n._id,token:n.token},append:W},i))}}


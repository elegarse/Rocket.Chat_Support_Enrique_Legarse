function module(e,t,n){var l,r,a,c,o,u,i,m,s,f,E,d,p,h,_,b,C,k,x,v,g,w,A,y,S,T,R,D,I,L,U;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},0),n.link("@babel/runtime/regenerator",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/extends",{default:function(e){a=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){c=e}},3),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){o=e}},4),n.export({default:function(){return B}}),n.link("react",{default:function(e){u=e},useCallback:function(e){i=e},useState:function(e){m=e},useMemo:function(e){s=e}},0),n.link("@rocket.chat/fuselage",{Box:function(e){f=e},Button:function(e){E=e},ButtonGroup:function(e){d=e},TextInput:function(e){p=e},Field:function(e){h=e},Icon:function(e){_=e},Skeleton:function(e){b=e},Throbber:function(e){C=e},InputBox:function(e){k=e},TextAreaInput:function(e){x=e},ToggleSwitch:function(e){v=e},FieldGroup:function(e){g=e},Modal:function(e){w=e}},1),n.link("../../contexts/TranslationContext",{useTranslation:function(e){A=e}},2),n.link("../../contexts/ServerContext",{useMethod:function(e){y=e},useAbsoluteUrl:function(e){S=e}},3),n.link("../../contexts/RouterContext",{useRoute:function(e){T=e}},4),n.link("../../contexts/ModalContext",{useSetModal:function(e){R=e}},5),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){D=e}},6),n.link("../../hooks/useEndpointDataExperimental",{useEndpointDataExperimental:function(e){I=e},ENDPOINT_STATES:function(e){L=e}},7),n.link("../../components/basic/VerticalBar",{default:function(e){U=e}},8);var M=function(e){var t=e.onDelete,n=e.onCancel,l=o(e,["onDelete","onCancel"]),r=A();return u.createElement(w,l,u.createElement(w.Header,null,u.createElement(_,{color:"danger",name:"modal-warning",size:20}),u.createElement(w.Title,null,r("Are_you_sure")),u.createElement(w.Close,{onClick:n})),u.createElement(w.Content,{fontScale:"p1"},r("Application_delete_warning")),u.createElement(w.Footer,null,u.createElement(d,{align:"end"},u.createElement(E,{ghost:!0,onClick:n},r("Cancel")),u.createElement(E,{primary:!0,danger:!0,onClick:t},r("Delete")))))},O=function(e){var t=e.onClose,n=o(e,["onClose"]),l=A();return u.createElement(w,n,u.createElement(w.Header,null,u.createElement(_,{color:"success",name:"checkmark-circled",size:20}),u.createElement(w.Title,null,l("Deleted")),u.createElement(w.Close,{onClick:t})),u.createElement(w.Content,{fontScale:"p1"},l("Your_entry_has_been_deleted")),u.createElement(w.Footer,null,u.createElement(d,{align:"end"},u.createElement(E,{primary:!0,onClick:t},l("Ok")))))};function B(e){var t=e._id,n=o(e,["_id"]),l=A(),r=m(),p=c(r,2),h=p[0],_=p[1],x=i((function(){_(new Date)}),[]),v=s((function(){return{appId:t}}),[t,h]),g=I("oauth-apps.get",v),w=g.data,y=g.state,S=g.error;return y===L.LOADING?u.createElement(f,{pb:"x20",maxWidth:"x600",w:"full",alignSelf:"center"},u.createElement(b,{mbs:"x8"}),u.createElement(k.Skeleton,{w:"full"}),u.createElement(b,{mbs:"x8"}),u.createElement(k.Skeleton,{w:"full"}),u.createElement(d,{stretch:!0,w:"full",mbs:"x8"},u.createElement(E,{disabled:!0},u.createElement(C,{inheritColor:!0})),u.createElement(E,{primary:!0,disabled:!0},u.createElement(C,{inheritColor:!0}))),u.createElement(d,{stretch:!0,w:"full",mbs:"x8"},u.createElement(E,{primary:!0,danger:!0,disabled:!0},u.createElement(C,{inheritColor:!0})))):!S&&w&&t?u.createElement(j,a({data:w.oauthApp,onChange:x},n)):u.createElement(f,{fontScale:"h1",pb:"x20"},l("error-application-not-found"))}function j(e){var t=e.onChange,n=e.data,f=o(e,["onChange","data"]),b=A(),C=D(),k=m({name:n.name,active:n.active,redirectUri:Array.isArray(n.redirectUri)?n.redirectUri.join("\n"):n.redirectUri}),w=c(k,2),I=w[0],L=w[1],B=R(),j=T("admin-oauth-apps"),z=i((function(){return j.push({})}),[j]),F=S(),G=s((function(){return F("oauth/authorize")}),[F]),H=s((function(){return F("oauth/token")}),[F]),N=y("updateOAuthApp"),P=y("deleteOAuthApp"),W=i(function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(N(n._id,I));case 3:C({type:"success",message:b("Application_updated")}),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),C({type:"error",message:e.t0});case 10:case"end":return e.stop()}}return e}(),null,null,[[0,7]],Promise)}return e}(),[n._id,C,I,t,N,b]),V=i(function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.awrap(P(n._id));case 3:B((function(){return u.createElement(O,{onClose:function(){B(),z()}})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),C({type:"error",message:e.t0});case 9:case"end":return e.stop()}}return e}(),null,null,[[0,6]],Promise)}return e}(),[z,n._id,P,C]),Y=function(){return B((function(){return u.createElement(M,{onDelete:V,onCancel:function(){return B(void 0)}})}))},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.currentTarget.value};return function(n){var r;return L(l({},I,((r={})[e]=t(n),r)))}},J=I.active,K=I.name,Q=I.redirectUri;return u.createElement(U.ScrollableContent,a({w:"full"},f),u.createElement(g,{maxWidth:"x600",alignSelf:"center",w:"full"},u.createElement(h,null,u.createElement(h.Label,{display:"flex",justifyContent:"space-between",w:"full"},b("Active"),u.createElement(v,{checked:J,onChange:q("active",(function(){return!J}))}))),u.createElement(h,null,u.createElement(h.Label,null,b("Application_Name")),u.createElement(h.Row,null,u.createElement(p,{value:K,onChange:q("name")})),u.createElement(h.Hint,null,b("Give_the_application_a_name_This_will_be_seen_by_your_users"))),u.createElement(h,null,u.createElement(h.Label,null,b("Redirect_URI")),u.createElement(h.Row,null,u.createElement(x,{rows:5,value:Q,onChange:q("redirectUri")})),u.createElement(h.Hint,null,b("After_OAuth2_authentication_users_will_be_redirected_to_this_URL"))),u.createElement(h,null,u.createElement(h.Label,null,b("Client_ID")),u.createElement(h.Row,null,u.createElement(p,{value:n.clientId,onChange:q("clientId")}))),u.createElement(h,null,u.createElement(h.Label,null,b("Client_Secret")),u.createElement(h.Row,null,u.createElement(p,{value:n.clientSecret}))),u.createElement(h,null,u.createElement(h.Label,null,b("Authorization_URL")),u.createElement(h.Row,null,u.createElement(p,{value:G}))),u.createElement(h,null,u.createElement(h.Label,null,b("Access_Token_URL")),u.createElement(h.Row,null,u.createElement(p,{value:H}))),u.createElement(h,null,u.createElement(h.Row,null,u.createElement(d,{stretch:!0,w:"full"},u.createElement(E,{onClick:z},b("Cancel")),u.createElement(E,{primary:!0,onClick:W},b("Save"))))),u.createElement(h,null,u.createElement(h.Row,null,u.createElement(d,{stretch:!0,w:"full"},u.createElement(E,{primary:!0,danger:!0,onClick:Y},u.createElement(_,{name:"trash",mie:"x4"}),b("Delete")))))))}}


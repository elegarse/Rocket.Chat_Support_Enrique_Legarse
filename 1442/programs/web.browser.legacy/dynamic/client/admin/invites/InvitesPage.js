function module(e,t,n){var r,l,a,o,i,u,c,s,f,m,d,p,x,h,E,k,v,C,w,b;function g(e){var t=e._id,n=e.createdAt,r=e.expires,l=e.days,a=e.uses,d=e.maxUses,p=e.onRemove,h=k(),w=b(),g=E(),T=C(),y=v("DELETE","removeInvite/"+t),_=function(e){var t=e.expires,n;return e.days>0?t<Date.now()?h("Expired"):x(t).fromNow(!0):h("Never")},D=function(e){var t=e.maxUses,n=e.uses;return t>0?n>=t?0:t-n:h("Unlimited")},A=function(){function e(e){return o.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:e.stopPropagation(),g.open({text:h("Are_you_sure_you_want_to_delete_this_record"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:h("Yes"),cancelButtonText:h("No"),closeOnConfirm:!0,html:!1},function(){function e(e){return o.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,o.awrap(y());case 5:p&&p(t),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),T({type:"error",message:n.t0});case 11:case"end":return n.stop()}}return n}(),null,null,[[2,8]],Promise)}return e}());case 2:case"end":return n.stop()}}return n}(),null,null,null,Promise)}return e}(),B=f("(min-width: 768px)");return m.createElement(c.Row,null,m.createElement(c.Cell,null,m.createElement(s,{color:"hint",fontScale:"p1"},t)),B&&m.createElement(m.Fragment,null,m.createElement(c.Cell,null,w(n)),m.createElement(c.Cell,null,_({expires:r,days:l})),m.createElement(c.Cell,null,a),m.createElement(c.Cell,null,D({maxUses:d,uses:a}))),m.createElement(c.Cell,null,m.createElement(i,{ghost:!0,danger:!0,small:!0,square:!0,onClick:A},m.createElement(u,{name:"cross",size:"x20"}))))}function T(){var e=k(),t=d([]),n=a(t,2),i=n[0],u=n[1],s=v("GET","listInvites");p((function(){var e;(function(){function e(){var e,t;return o.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.awrap(s());case 2:if(n.t0=n.sent,n.t0){n.next=5;break}n.t0=[];case 5:e=n.t0,t=e.map((function(e){return l({},e,{createdAt:new Date(e.createdAt),expires:e.expires?new Date(e.expires):""})})),u(t);case 8:case"end":return n.stop()}}return n}(),null,null,null,Promise)}return e})()()}),[s]);var x=function(e){u((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter((function(t){return t._id!==e}))}))},E=f("(min-width: 768px)");return m.createElement(h,null,m.createElement(h.Header,{title:e("Invites")}),m.createElement(h.Content,null,m.createElement(w,{results:i,header:m.createElement(m.Fragment,null,m.createElement(c.Cell,{is:"th",width:E?"20%":"80%"},e("Token")),E&&m.createElement(m.Fragment,null,m.createElement(c.Cell,{is:"th",width:"35%"},e("Created_at")),m.createElement(c.Cell,{is:"th",width:"20%"},e("Expiration")),m.createElement(c.Cell,{is:"th",width:"10%"},e("Uses")),m.createElement(c.Cell,{is:"th",width:"10%"},e("Uses_left"))),m.createElement(c.Cell,{is:"th"})),renderRow:function(e){return m.createElement(g,r({key:e._id},e,{onRemove:x}))}})))}n.link("@babel/runtime/helpers/extends",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){l=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},2),n.link("@babel/runtime/regenerator",{default:function(e){o=e}},3),n.link("@rocket.chat/fuselage",{Button:function(e){i=e},Icon:function(e){u=e},Table:function(e){c=e},Box:function(e){s=e}},0),n.link("@rocket.chat/fuselage-hooks",{useMediaQuery:function(e){f=e}},1),n.link("react",{default:function(e){m=e},useState:function(e){d=e},useEffect:function(e){p=e}},2),n.link("moment",{default:function(e){x=e}},3),n.link("../../components/basic/Page",{default:function(e){h=e}},4),n.link("../../contexts/ModalContext",{useModal:function(e){E=e}},5),n.link("../../contexts/TranslationContext",{useTranslation:function(e){k=e}},6),n.link("../../contexts/ServerContext",{useEndpoint:function(e){v=e}},7),n.link("../../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){C=e}},8),n.link("../../components/GenericTable",{GenericTable:function(e){w=e}},9),n.link("../../hooks/useFormatDateAndTime",{useFormatDateAndTime:function(e){b=e}},10),n.exportDefault(T)}


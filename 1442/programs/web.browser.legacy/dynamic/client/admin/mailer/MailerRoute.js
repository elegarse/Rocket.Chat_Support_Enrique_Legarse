function module(e,n,r){var t,i,o,u,a,l,s;r.export({default:function(){return f}}),r.link("react",{default:function(e){t=e}},0),r.link("toastr",{default:function(e){i=e}},1),r.link("../../contexts/AuthorizationContext",{usePermission:function(e){o=e}},2),r.link("../../contexts/ServerContext",{useMethod:function(e){u=e}},3),r.link("../../contexts/TranslationContext",{useTranslation:function(e){a=e}},4),r.link("./Mailer",{Mailer:function(e){l=e}},5),r.link("../../components/NotAuthorizedPage",{default:function(e){s=e}},6);var c=function(){var e=u("Mailer.sendMail"),n=a();return function(r){var t=r.fromEmail,o=r.subject,u=r.emailBody,a=r.dryRun,l=r.query;l.error?i.error(n("Query_is_not_valid_JSON")):t.error||t.length<1?i.error(n("error-invalid-from-address")):-1!==u.indexOf("[unsubscribe]")?(e(t.value,o,u,a,l.value),i.success(n("The_emails_are_being_sent"))):i.error(n("error-missing-unsubscribe-link"))}};function f(){var e=o("access-mailer"),n=c();return e?t.createElement(l,{sendMail:n}):t.createElement(s,null)}}


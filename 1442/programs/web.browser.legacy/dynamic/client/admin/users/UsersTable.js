function module(e,t,n){var r,a,l,i,o,s,c,u,f,m,d,x,p,k,E,y,h,v,b,g,C;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/extends",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},2),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},3),n.export({UsersTable:function(){return $}}),n.link("@rocket.chat/fuselage",{Box:function(e){o=e},Table:function(e){s=e},TextInput:function(e){c=e},Icon:function(e){u=e}},0),n.link("@rocket.chat/fuselage-hooks",{useDebouncedValue:function(e){f=e},useMediaQuery:function(e){m=e}},1),n.link("react",{default:function(e){d=e},useMemo:function(e){x=e},useCallback:function(e){p=e},useState:function(e){k=e},useEffect:function(e){E=e}},2),n.link("../../components/basic/avatar/UserAvatar",{default:function(e){y=e}},3),n.link("../../components/GenericTable",{GenericTable:function(e){h=e},Th:function(e){v=e}},4),n.link("../../contexts/TranslationContext",{useTranslation:function(e){b=e}},5),n.link("../../contexts/RouterContext",{useRoute:function(e){g=e}},6),n.link("../../hooks/useEndpointData",{useEndpointData:function(e){C=e}},7);var S={whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},w=function(e){var t=e.setFilter,n=i(e,["setFilter"]),r=b(),s=k(""),f=l(s,2),m=f[0],x=f[1],y=p((function(e){return x(e.currentTarget.value)}),[]);return E((function(){t({text:m})}),[t,m]),d.createElement(o,a({mb:"x16",is:"form",onSubmit:p((function(e){return e.preventDefault()}),[]),display:"flex",flexDirection:"column"},n),d.createElement(c,{flexShrink:0,placeholder:r("Search_Users"),addon:d.createElement(u,{name:"magnifier",size:"x20"}),onChange:y,value:m}))},T=function(e){return"asc"===e?1:-1},D=function(e,t){var n=e.text,a=e.itemsPerPage,i=e.current,o=l(t,2),s=o[0],c=o[1];return x((function(){var e;return r({fields:JSON.stringify({name:1,username:1,emails:1,roles:1,status:1,avatarETag:1}),query:JSON.stringify({$or:[{"emails.address":{$regex:n||"",$options:"i"}},{username:{$regex:n||"",$options:"i"}},{name:{$regex:n||"",$options:"i"}}]}),sort:JSON.stringify((e={},e[s]=T(c),e.usernames="name"===s?T(c):void 0,e))},a&&{count:a},{},i&&{offset:i})}),[n,a,i,s,c])};function $(){var e=b(),t=k({text:"",current:0,itemsPerPage:25}),n=l(t,2),r=n[0],a=n[1],i=k(["name","asc"]),c=l(i,2),u=c[0],E=c[1],T=f(r,500),$=f(u,500),P=D(T,$),R=C("users.list",P)||{},I=g("admin-users"),N=p((function(e){return function(){return I.push({context:"info",id:e})}}),[I]),O=p((function(e){var t=l(u,2),n=t[0],r=t[1];E(n!==e?[e,"asc"]:[e,"asc"===r?"desc":"asc"])}),[u]),U=m("(min-width: 1024px)"),j=x((function(){return[d.createElement(v,{key:"name",direction:u[1],active:"name"===u[0],onClick:O,sort:"name",w:"x200"},e("Name")),U&&d.createElement(v,{key:"username",direction:u[1],active:"username"===u[0],onClick:O,sort:"username",w:"x140"},e("Username")),d.createElement(v,{key:"email",direction:u[1],active:"emails.adress"===u[0],onClick:O,sort:"emails.address",w:"x120"},e("Email")),U&&d.createElement(v,{key:"roles",direction:u[1],active:"roles"===u[0],onClick:O,sort:"roles",w:"x120"},e("Roles")),d.createElement(v,{key:"status",direction:u[1],active:"status"===u[0],onClick:O,sort:"status",w:"x100"},e("Status"))].filter(Boolean)}),[u,O,e,U]),F=p((function(e){var t=e.emails,n=e._id,r=e.username,a=e.name,l=e.roles,i=e.status,c=e.avatarETag;return(d.createElement(s.Row,{key:n,onKeyDown:N(n),onClick:N(n),tabIndex:0,role:"link",action:!0,"qa-user-id":n},d.createElement(s.Cell,{style:S},d.createElement(o,{display:"flex",alignItems:"center"},d.createElement(y,{size:U?"x28":"x40",title:r,username:r,etag:c}),d.createElement(o,{display:"flex",style:S,mi:"x8"},d.createElement(o,{display:"flex",flexDirection:"column",alignSelf:"center",style:S},d.createElement(o,{fontScale:"p2",style:S,color:"default"},a||r),!U&&a&&d.createElement(o,{fontScale:"p1",color:"hint",style:S}," ","@"+r," "))))),U&&d.createElement(s.Cell,null,d.createElement(o,{fontScale:"p2",style:S,color:"hint"},r)," ",d.createElement(o,{mi:"x4"})),d.createElement(s.Cell,{style:S},t&&t.length&&t[0].address),U&&d.createElement(s.Cell,{style:S},l&&l.join(", ")),d.createElement(s.Cell,{fontScale:"p1",color:"hint",style:S},i)))}),[U,N]);return d.createElement(h,{FilterComponent:w,header:j,renderRow:F,results:R.users,total:R.total,setParams:a,params:r})}n.exportDefault($)}


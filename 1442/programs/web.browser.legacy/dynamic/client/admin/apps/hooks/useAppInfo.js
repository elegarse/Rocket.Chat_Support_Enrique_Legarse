function module(e,n,t){var r,a,u,c,i,s,p,l,o;t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),t.link("@babel/runtime/regenerator",{default:function(e){u=e}},2),t.export({useAppInfo:function(){return x}}),t.link("react",{useState:function(e){c=e},useEffect:function(e){i=e},useContext:function(e){s=e}},0),t.link("../../../../app/apps/client/orchestrator",{Apps:function(e){p=e}},1),t.link("../AppProvider",{AppDataContext:function(e){l=e}},2),t.link("../helpers",{handleAPIError:function(e){o=e}},3);var f=function(){function e(e,n){var t,r;return u.async(function(){function a(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.awrap(p.getLatestAppFromMarketplace(e,n));case 3:if(t=a.sent,r=t.bundledIn,a.t0=r,!a.t0){a.next=9;break}return a.next=9,u.awrap(Promise.all(r.map((function(e,n){return p.getAppsOnBundle(e.bundleId).then((function(t){e.apps=t.slice(0,4),r[n]=e}))}))));case 9:return a.abrupt("return",r);case 12:a.prev=12,a.t1=a.catch(0),o(a.t1);case 15:case"end":return a.stop()}}return a}(),null,null,[[0,12]],Promise)}return e}(),d=function(){function e(e,n){var t;return u.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:if(n){r.next=2;break}return r.abrupt("return",{});case 2:return r.prev=2,r.next=5,u.awrap(p.getAppSettings(e));case 5:return t=r.sent,r.abrupt("return",t);case 9:r.prev=9,r.t0=r.catch(2),o(r.t0);case 12:case"end":return r.stop()}}return r}(),null,null,[[2,9]],Promise)}return e}(),b=function(){function e(e,n){return u.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return",{});case 2:return t.prev=2,t.next=5,u.awrap(p.getAppApis(e));case 5:return t.abrupt("return",t.sent);case 8:t.prev=8,t.t0=t.catch(2),o(t.t0);case 11:case"end":return t.stop()}}return t}(),null,null,[[2,8]],Promise)}return e}(),x=function(e){var n=s(l),t=n.data,o=n.dataCache,x=c({}),v=a(x,2),k=v[0],h=v[1];return i((function(){!function(){function n(){var n,c,i,s,l,o,x,v,k,m,A;return u.async(function(){function w(w){for(;;)switch(w.prev=w.next){case 0:if(t.length&&e){w.next=2;break}return w.abrupt("return");case 2:if(n=t.find((function(n){var t;return n.id===e}))){w.next=8;break}return w.next=6,u.awrap(p.getApp(e));case 6:c=w.sent,n=r({},c,{installed:!0,marketplace:!1});case 8:if(!1!==n.marketplace){w.next=16;break}return w.next=11,u.awrap(Promise.all([d(n.id,n.installed),b(n.id,n.installed)]));case 11:return i=w.sent,s=a(i,2),l=s[0],o=s[1],w.abrupt("return",h(r({},n,{settings:l,apis:o})));case 16:return w.next=18,u.awrap(Promise.all([f(n.id,n.version),d(n.id,n.installed),b(n.id,n.installed)]));case 18:x=w.sent,v=a(x,3),k=v[0],m=v[1],A=v[2],h(r({},n,{bundledIn:k,settings:m,apis:A}));case 24:case"end":return w.stop()}}return w}(),null,null,null,Promise)}return n}()()}),[e,t,o]),k}}


function module(e,t,n){var l,a,r,i,c,o,u,s,f,m,p,x,E,d,h,g,v,k,y,b,w,S,D,C,A,F,I,j,G,T,P,R,B,O;function U(e){var t=e.data,n=I(),l=t.iconFileData,a=void 0===l?"":l,r=t.name,c=t.author,o=(c=void 0===c?{}:c).name,u=c.homepage,s=c.support,f=t.description,m=t.categories,p=void 0===m?[]:m,x=t.version,v=t.price,k=t.purchaseType,y=t.pricingPlans,A=t.iconFileContent,F=t.installed,j=t.bundledIn;return i.createElement(i.Fragment,null,i.createElement(E,{display:"flex",flexDirection:"row",mbe:"x20",w:"full"},i.createElement(b,{size:"x120",mie:"x20",iconFileContent:A,iconFileData:a}),i.createElement(E,{display:"flex",flexDirection:"column",justifyContent:"space-between",flexGrow:1},i.createElement(E,{fontScale:"h1"},r),i.createElement(E,{display:"flex",flexDirection:"row",color:"hint",alignItems:"center"},i.createElement(E,{fontScale:"p2",mie:"x4"},n("By_author",{author:o})),"|",i.createElement(E,{mis:"x4"},n("Version_version",{version:x}))),i.createElement(E,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},i.createElement(E,{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center",marginInline:"neg-x8"},i.createElement(D,{app:t,marginInline:"x8"}),!F&&i.createElement(S,{purchaseType:k,pricingPlans:y,price:v,showType:!1,marginInline:"x8"})),F&&i.createElement(C,{app:t})))),i.createElement(d,null),i.createElement(E,{display:"flex",flexDirection:"column"},i.createElement(g,{block:"x12"},i.createElement(E,{fontScale:"s2"},n("Categories")),i.createElement(E,{display:"flex",flexDirection:"row"},p&&p.map((function(e){return i.createElement(h,{key:e,textTransform:"uppercase",mie:"x8"},i.createElement(E,{color:"hint"},e))}))),i.createElement(E,{fontScale:"s2"},n("Contact")),i.createElement(E,{display:"flex",flexDirection:"row",flexGrow:1,justifyContent:"space-around",flexWrap:"wrap"},i.createElement(E,{display:"flex",flexDirection:"column",mie:"x12",flexGrow:1},i.createElement(E,{fontScale:"s1",color:"hint"},n("Author_Site")),i.createElement(w,{to:u})),i.createElement(E,{display:"flex",flexDirection:"column",flexGrow:1},i.createElement(E,{fontScale:"s1",color:"hint"},n("Support")),i.createElement(w,{to:s}))),i.createElement(E,{fontScale:"s2"},n("Details")),i.createElement(E,{display:"flex",flexDirection:"row"},f))),j&&i.createElement(i.Fragment,null,i.createElement(d,null),i.createElement(E,{display:"flex",flexDirection:"column"},i.createElement(g,{block:"x12"},i.createElement(E,{fontScale:"s2"},n("Bundles")),j.map((function(e){return i.createElement(E,{key:e.bundleId,display:"flex",flexDirection:"row",alignItems:"center"},i.createElement(E,{width:"x80",height:"x80",display:"flex",flexDirection:"row",justifyContent:"space-around",flexWrap:"wrap",flexShrink:0},e.apps.map((function(e){return i.createElement(b,{size:"x36",key:e.latest.name,iconFileContent:e.latest.iconFileContent,iconFileData:e.latest.iconFileData})}))),i.createElement(E,{display:"flex",flexDirection:"column",mis:"x12"},i.createElement(E,{fontScale:"p2"},e.bundleName),e.apps.map((function(e){return i.createElement(E,{key:e.latest.name},e.latest.name,",")}))))}))))))}n.link("@babel/runtime/regenerator",{default:function(e){l=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},2),n.export({default:function(){return M}}),n.link("react",{default:function(e){i=e},useState:function(e){c=e},useCallback:function(e){o=e},useMemo:function(e){u=e},useEffect:function(e){s=e},useRef:function(e){f=e}},0),n.link("@rocket.chat/fuselage",{Button:function(e){m=e},ButtonGroup:function(e){p=e},Icon:function(e){x=e},Box:function(e){E=e},Divider:function(e){d=e},Chip:function(e){h=e},Margins:function(e){g=e},Skeleton:function(e){v=e},Throbber:function(e){k=e}},1),n.link("../../components/basic/Page",{default:function(e){y=e}},2),n.link("../../components/basic/avatar/AppAvatar",{default:function(e){b=e}},3),n.link("../../components/basic/ExternalLink",{default:function(e){w=e}},4),n.link("./PriceDisplay",{default:function(e){S=e}},5),n.link("./AppStatus",{default:function(e){D=e}},6),n.link("./AppMenu",{default:function(e){C=e}},7),n.link("../../contexts/RouterContext",{useRoute:function(e){A=e},useCurrentRoute:function(e){F=e}},8),n.link("../../contexts/TranslationContext",{useTranslation:function(e){I=e}},9),n.link("./hooks/useAppInfo",{useAppInfo:function(e){j=e}},10),n.link("../../contexts/ServerContext",{useAbsoluteUrl:function(e){G=e}},11),n.link("../../../app/apps/client/orchestrator",{Apps:function(e){T=e}},12),n.link("../../hooks/useForm",{useForm:function(e){P=e}},13),n.link("./helpers",{handleAPIError:function(e){R=e},apiCurlGetter:function(e){B=e}},14),n.link("./AppSettings",{AppSettingsAssembler:function(e){O=e}},15);var _=function(e){var t=e.settings,n=e.setHasUnsavedChanges,l=e.settingsRef,a=I(),c=u((function(){return Object.values(t).reduce((function(e,t){var n,l=t.id,a=t.value,i=t.packageValue;return e=r({},e,((n={})[l]=null!=a?a:i,n))}),{})}),[JSON.stringify(t)]),o=P(c),f=o.values,m=o.handlers,p=o.hasUnsavedChanges;return s((function(){n(p),l.current=f}),[p,JSON.stringify(f),n]),i.createElement(i.Fragment,null,i.createElement(d,null),i.createElement(E,{display:"flex",flexDirection:"column"},i.createElement(E,{fontScale:"s2",mb:"x12"},a("Settings")),i.createElement(O,{settings:t,values:f,handlers:m})))},W=function(e){var t=e.apis,n=I(),l=G(),a=B(l);return i.createElement(i.Fragment,null,i.createElement(d,null),i.createElement(E,{display:"flex",flexDirection:"column"},i.createElement(E,{fontScale:"s2",mb:"x12"},n("APIs")),t.map((function(e){return i.createElement(E,{mb:"x8"},i.createElement(E,{fontScale:"p2"},e.methods.join(" | ").toUpperCase()," ",e.path),e.methods.map((function(t){return i.createElement(E,null,i.createElement(E,{withRichContent:!0},i.createElement("pre",null,i.createElement("code",null,a(t,e).map((function(e){return i.createElement(i.Fragment,null,e,i.createElement("br",null))}))))))})))}))))},H=function(){return i.createElement(E,{display:"flex",flexDirection:"row",mbe:"x20",w:"full"},i.createElement(v,{variant:"rect",w:"x120",h:"x120",mie:"x20"}),i.createElement(E,{display:"flex",flexDirection:"column",justifyContent:"space-between",flexGrow:1},i.createElement(v,{variant:"rect",w:"full",h:"x32"}),i.createElement(v,{variant:"rect",w:"full",h:"x32"}),i.createElement(v,{variant:"rect",w:"full",h:"x32"})))};function M(e){var t=e.id,n=I(),u=c(!1),s=a(u,2),d=s[0],h=s[1],g=c(!1),v=a(g,2),b=v[0],w=v[1],S=f({}),D=j(t),C=F(),G,P=a(C,1)[0],B=A(P),O=function(){return B.push({})},M=0===Object.values(D).length,N=D.settings,z=void 0===N?{}:N,J=D.apis,V=void 0===J?{}:J,L=Object.values(z).length,q=V.length,K=o(function(){function e(){var e;return l.async(function(){function n(n){for(;;)switch(n.prev=n.next){case 0:return e=S.current,w(!0),n.prev=2,n.next=5,l.awrap(T.setAppSettings(t,Object.values(z).map((function(t){return r({},t,{value:e[t.id]})}))));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),R(n.t0);case 10:w(!1);case 11:case"end":return n.stop()}}return n}(),null,null,[[2,7]],Promise)}return e}(),[t,z]);return i.createElement(y,{flexDirection:"column"},i.createElement(y.Header,{title:n("App_Details")},i.createElement(p,null,i.createElement(m,{primary:!0,disabled:!d||b,onClick:K},!b&&n("Save_changes"),b&&i.createElement(k,{inheritColor:!0})),i.createElement(m,{onClick:O},i.createElement(x,{name:"back"}),n("Back")))),i.createElement(y.ScrollableContentWithShadow,null,i.createElement(E,{maxWidth:"x600",w:"full",alignSelf:"center"},M&&i.createElement(H,null),!M&&i.createElement(i.Fragment,null,i.createElement(U,{data:D}),!!q&&i.createElement(W,{apis:V}),!!L&&i.createElement(_,{settings:z,setHasUnsavedChanges:h,settingsRef:S})))))}}


function module(e,t,n){var r,a,u,s,o,c,i,l,f;n.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),n.export({useUpdateAvatar:function(){return p}}),n.link("react",{useMemo:function(e){u=e},useCallback:function(e){s=e}},0),n.link("../contexts/ServerContext",{useMethod:function(e){o=e}},1),n.link("./useEndpointAction",{useEndpointAction:function(e){c=e}},2),n.link("../contexts/TranslationContext",{useTranslation:function(e){i=e}},3),n.link("./useEndpointUpload",{useEndpointUpload:function(e){l=e}},4),n.link("../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){f=e}},5);var p=function(e,t){var n=i(),p=null==e?void 0:e.avatarUrl,v=n("Avatar_changed_successfully"),d=o("setAvatarFromService"),b=f(),k=u((function(){return a({userId:t},p&&{avatarUrl:p})}),[p,t]),x=u((function(){return{userId:t}}),[t]),m=l("users.setAvatar",k,v),A=c("POST","users.setAvatar",k,v),T=c("POST","users.resetAvatar",x,v),g;return s(function(){function n(){var n,a,u;return r.async(function(){function s(s){for(;;)switch(s.prev=s.next){case 0:if("reset"!==e){s.next=2;break}return s.abrupt("return",T());case 2:if(!e.avatarUrl){s.next=4;break}return s.abrupt("return",A());case 4:if(!e.service){s.next=16;break}return n=e.blob,a=e.contentType,u=e.service,s.prev=6,s.next=9,r.awrap(d(n,a,u));case 9:b({type:"success",message:v}),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(6),b({type:"error",message:s.t0});case 15:return s.abrupt("return");case 16:if(!(e instanceof FormData)){s.next=19;break}return e.set("userId",t),s.abrupt("return",m(e));case 19:case"end":return s.stop()}}return s}(),null,null,[[6,12]],Promise)}return n}(),[e,b,T,m,A,d,v,t])}}


function module(e,t,n){var r,a,u,o,s,i,c;n.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),n.export({ENDPOINT_STATES:function(){return c},useEndpointDataExperimental:function(){return p}}),n.link("react",{useEffect:function(e){u=e},useState:function(e){o=e}},0),n.link("../contexts/ServerContext",{useEndpoint:function(e){s=e}},1),n.link("../contexts/ToastMessagesContext",{useToastMessageDispatch:function(e){i=e}},2),function(e){e.LOADING="LOADING",e.DONE="DONE",e.ERROR="ERROR"}(c||n.runSetters(c={}));var l={data:null,state:c.LOADING},f={},d={},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,p=n.delayTimeout,E=void 0===p?1e3:p,v=o(l),x=a(v,2),O=x[0],b=x[1],D=s("GET",e),T=i();return u((function(){var e=!0,n=function(){function a(){var a,u;return r.async(function(){function o(o){for(;;)switch(o.prev=o.next){case 0:return a=setTimeout((function(){e&&b({data:null,delaying:!0,state:c.LOADING,reload:n})}),E),o.prev=1,b(l),o.next=5,r.awrap(D(t));case 5:if(u=o.sent,e){o.next=8;break}return o.abrupt("return");case 8:if(u.success){o.next=10;break}throw new Error(u.status);case 10:b({data:u,state:c.DONE,reload:n}),o.next=19;break;case 13:if(o.prev=13,o.t0=o.catch(1),e){o.next=17;break}return o.abrupt("return");case 17:b({data:null,error:o.t0,state:c.ERROR,reload:n}),T({type:"error",message:o.t0});case 19:return o.prev=19,clearTimeout(a),o.finish(19);case 22:case"end":return o.stop()}}return o}(),null,null,[[1,13,19,22]],Promise)}return a}();return n(),function(){e=!1}}),[E,T,D,t]),O}}


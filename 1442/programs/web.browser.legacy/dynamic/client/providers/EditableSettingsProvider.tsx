function module(e,n,t){var r,i,o,u,c,a,l,f,s,d,b,v,p;t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){i=e}},1),t.link("@babel/runtime/helpers/createForOfIteratorHelperLoose",{default:function(e){o=e}},2),t.link("@rocket.chat/fuselage-hooks",{useMutableCallback:function(e){u=e}},0),t.link("meteor/mongo",{Mongo:function(e){c=e}},1),t.link("meteor/tracker",{Tracker:function(e){a=e}},2),t.link("react",{default:function(e){l=e},useEffect:function(e){f=e},useMemo:function(e){s=e},useRef:function(e){d=e}},3),t.link("../contexts/EditableSettingsContext",{EditableSettingsContext:function(e){b=e}},4),t.link("../contexts/SettingsContext",{useSettings:function(e){v=e}},5),t.link("./createReactiveSubscriptionFactory",{createReactiveSubscriptionFactory:function(e){p=e}},6);var g={},h=function(e){var n=e.children,t=e.query,h=void 0===t?g:t,k=d(null),m=v(h),y=u((function(){return k.current||(k.current=new c.Collection(null)),k.current}));f((function(){var e=y();e.remove({_id:{$nin:m.map((function(e){var n;return e._id}))}});for(var n=o(m),t;!(t=n()).done;){var u=t.value,c=u._id,a=i(u,["_id"]);e.upsert(c,{$set:r({},a),$unset:{changed:!0}})}}),[y,m]);var S=s((function(){return p((function(e){var n=y(),t=n.findOne(e);if(t){if(t.blocked)return r({},t,{disabled:!0});if(!t.enableQuery)return r({},t,{disabled:!1});var i=[].concat("string"==typeof t.enableQuery?JSON.parse(t.enableQuery):t.enableQuery);return r({},t,{disabled:!i.every((function(e){return n.find(e).count()>0}))})}}))}),[y]),_=s((function(){return p((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y().find(r({},"_id"in e&&{_id:{$in:e._id}},{},"group"in e&&{group:e.group},{},"section"in e&&(e.section?{section:e.section}:{$or:[{section:{$exists:!1}},{section:""}]}),{},"changed"in e&&{changed:e.changed}),{sort:{section:1,sorter:1,i18nLabel:1}}).fetch()}))}),[y]),x=s((function(){return p((function(e){return Array.from(new Set(y().find({group:e},{fields:{section:1},sort:{section:1,sorter:1,i18nLabel:1}}).fetch().map((function(e){var n;return e.section||""}))))}))}),[y]),$=u((function(e){for(var n=o(e),t;!(t=n()).done;){var r=t.value,u=r._id,c=i(r,["_id"]);u&&y().update(u,{$set:c})}a.flush()})),E=s((function(){return{queryEditableSetting:S,queryEditableSettings:_,queryGroupSections:x,dispatch:$}}),[S,_,x,$]);return l.createElement(b.Provider,{children:n,value:E})};t.exportDefault(h)}

